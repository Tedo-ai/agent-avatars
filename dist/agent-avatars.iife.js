var AgentAvatars=(function(rt){"use strict";function Mt(w){let n=0;for(let y=0;y<w.length;y++)n=(n<<5)-n+w.charCodeAt(y),n|=0;return Math.abs(n)||1}function W(w){let n=(w%2147483647+2147483647)%2147483647;return n===0&&(n=1),()=>(n=n*16807%2147483647,(n-1)/2147483646)}function F(w,n,y){if(n===0){const p=Math.round(y*255);return[p,p,p]}const m=y<.5?y*(1+n):y+n-y*n,b=2*y-m,f=(p,v,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?p+(v-p)*6*r:r<1/2?v:r<2/3?p+(v-p)*(2/3-r)*6:p);return[Math.round(f(b,m,w+.3333333333333333)*255),Math.round(f(b,m,w)*255),Math.round(f(b,m,w-.3333333333333333)*255)]}function j(w,n){return n!=="dark"?w:Math.max(.15,Math.min(.72,.88-w*.78))}function U(w,n,y){const m=W(w),b=(y==null?void 0:y.hue)!=null?y.hue%360:Math.floor(m()*360),f=30+Math.floor(m()*25),p=n==="dark",v=Math.max(f-15,8),r=6,t=p?{bg:.1,lighter:.18,light:.3,primary:.45,dark:.58,darker:.7,greyLight:.5,greyDark:.22}:{bg:.95,lighter:.9,light:.83,primary:.75,dark:.62,darker:.48,greyLight:.82,greyDark:.45};return{primary:`hsl(${b}, ${f}%, ${t.primary*100}%)`,light:`hsl(${b}, ${f}%, ${t.light*100}%)`,lighter:`hsl(${b}, ${f}%, ${t.lighter*100}%)`,dark:`hsl(${b}, ${f}%, ${t.dark*100}%)`,darker:`hsl(${b}, ${f}%, ${t.darker*100}%)`,bg:`hsl(${b}, ${v}%, ${t.bg*100}%)`,greyLight:`hsl(${b}, ${r}%, ${t.greyLight*100}%)`,greyDark:`hsl(${b}, ${r}%, ${t.greyDark*100}%)`,hue:b,sat:f,mode:p?"dark":"light",primaryRgb:F(b/360,f/100,t.primary),lightRgb:F(b/360,f/100,t.light),darkRgb:F(b/360,f/100,t.dark),darkerRgb:F(b/360,f/100,t.darker),bgRgb:F(b/360,v/100,t.bg),greyLightRgb:F(b/360,r/100,t.greyLight),greyDarkRgb:F(b/360,r/100,t.greyDark)}}const Tt=1e3/60,et=new Set;let H=null,lt=typeof document<"u"&&document.hidden;typeof document<"u"&&document.addEventListener("visibilitychange",()=>{lt=document.hidden,!lt&&et.size>0&&H===null&&(H=requestAnimationFrame(ht))});function ht(w){if(lt){H=null;return}for(const n of et)n(w);et.size>0?H=requestAnimationFrame(ht):H=null}function G(w){let n=null;function y(m){const b=n!==null?m-n:16;n=m;const f=b>200,p=f?Tt:Math.min(b,50);w(m,p,f)}return et.add(y),H===null&&!lt&&(H=requestAnimationFrame(ht)),()=>{et.delete(y),et.size===0&&H!==null&&(cancelAnimationFrame(H),H=null)}}const Dt=800,qt=1500,Nt=1e3/60,Ot=typeof window<"u"?Math.min(window.devicePixelRatio||1,2):1;function K(w){return Math.min(Math.max(Math.round(w*Ot),32),200)}function Q(w,n,y,m,b){const f=document.createElement("canvas");f.style.width=y+"px",f.style.height=y+"px",f.style.borderRadius="50%",f.style.flexShrink="0",f.style.display="block",w.appendChild(f);const p=(b==null?void 0:b.fps)??60,v=p<60?Math.round(60/p):1;let r=!1,t=0,o=0,h=0,M=0,d=null,e=m;function C(){const P=K(y);f.width=P,f.height=P,t=0,o=0,h=0,e(f,0,0)}function S(P,T){const R=r?1:0;if(Math.abs(o-R)>.003){const I=R>o?T/Dt:T/qt;o=Math.max(0,Math.min(1,o+(R>o?1:-1)*I))}else o=R;if(o===0&&!r)return e(f,t,0),"done";h+=T,M++,!(M<v)&&(M=0,t+=h/Nt,h=0,e(f,t,o))}function x(){d||(d=G((P,T)=>{S(P,T)==="done"&&d&&(d(),d=null)}))}function c(){d&&(d(),d=null)}return C(),{canvas:f,setActive(P){r=P,r||o>0?x():e(f,t,0)},setDrawFn(P){e=P},reinit(){c(),C(),r&&x()},destroy(){c(),f.parentNode&&f.parentNode.removeChild(f)}}}function Lt(w,n,y,m,b){const f=U(n,m,b),{hue:p,sat:v,bgRgb:r}=f,t=W(n),o=4+Math.floor(t()*3),h=Array.from({length:o},()=>({baseX:.2+t()*.6,baseY:.2+t()*.6,strength:.5+t()*.9,orbitRx:.06+t()*.14,orbitRy:.06+t()*.14,speed:.03+t()*.04,phase:t()*Math.PI*2}));function M(d,e,C){const S=d.getContext("2d"),x=d.width,c=3,P=S.createImageData(x,x),T=P.data;for(let R=0;R<x;R+=c)for(let I=0;I<x;I+=c){const A=I/x,$=R/x,u=A-.5,a=$-.5,s=Math.sqrt(u*u+a*a);let l,i,g,k;if(s>.5)l=i=g=k=0;else{let D=0;for(const N of h){const L=N.baseX+Math.sin(e*N.speed+N.phase)*N.orbitRx*C,_=N.baseY+Math.cos(e*N.speed*.8+N.phase*1.3)*N.orbitRy*C;D+=N.strength/((A-L)**2+($-_)**2+.008)}const O=Math.min((.5-s)*10,1);if(D>5.5){const N=Math.min((D-5.5)/15,1),L=F(p/360,v/100,j(.58+N*.3,m));l=L[0],i=L[1],g=L[2],k=Math.min(N*2,1)*O*255}else l=r[0],i=r[1],g=r[2],k=O*255}for(let D=0;D<c&&R+D<x;D++)for(let O=0;O<c&&I+O<x;O++){const N=((R+D)*x+(I+O))*4;T[N]=l,T[N+1]=i,T[N+2]=g,T[N+3]=k|0}}S.putImageData(P,0,0)}return Q(w,n,y,M,{fps:30})}function _t(w){const n=w.length,y=w[0].length;return w.map((m,b)=>m.map((f,p)=>{let v=0;for(let r=-1;r<=1;r++)for(let t=-1;t<=1;t++)!r&&!t||w[(b+r+n)%n][(p+t+y)%y]&&v++;return f&&v===2||v===3}))}function mt(w){let n="",y=0,m=0;for(const b of w)for(const f of b)f&&(y|=1<<m),++m===8&&(n+=String.fromCharCode(y),y=0,m=0);return m>0&&(n+=String.fromCharCode(y)),n}function Et(w){let n=0;for(const y of w)for(const m of y)m&&n++;return n}function gt(w,n){const y=W(w),m=Array.from({length:n},()=>Array(n).fill(!1)),b=[[[0,1],[0,2],[1,0],[1,1],[2,1]],[[0,1],[1,3],[2,0],[2,1],[2,4],[2,5],[2,6]],[[0,0],[0,1],[0,2],[1,1],[2,0],[2,1],[2,2]],[[0,0],[0,1],[0,2],[2,1],[3,1],[4,1]],[[0,0],[0,1],[1,0],[1,2],[1,3],[2,1],[2,2]]];for(let o=0;o<2;o++){const h=b[Math.floor(y()*b.length)],M=3+Math.floor(y()*(n-6)),d=3+Math.floor(y()*(n-6)),e=Math.floor(y()*4);for(let[C,S]of h){for(let x=0;x<e;x++){const c=S;S=-C,C=c}m[(d+C+n)%n][(M+S+n)%n]=!0}}const f=[[[0,-1],[0,0],[0,1]],[[0,0],[0,1],[1,0],[1,1]]];for(let o=0;o<3;o++){const h=f[Math.floor(y()*f.length)],M=2+Math.floor(y()*(n-4)),d=2+Math.floor(y()*(n-4));for(const[e,C]of h)m[(d+e+n)%n][(M+C+n)%n]=!0}const p=[m],v=new Map;v.set(mt(m),0);let r=m;for(let o=1;o<=500;o++){r=_t(r);const h=mt(r);if(v.has(h))break;v.set(h,o),p.push(r)}const t=p.filter((o,h)=>h===0||Et(o)>6);return t.length>10?t:p.slice(0,Math.max(p.length,20))}const nt=14,Ft=800,Wt=1500,xt=130;function Xt(w,n,y,m){const b=U(n,m),f=b.bgRgb,p=[b.darkerRgb,b.darkRgb,b.primaryRgb],v=[.5,.7,1],r=gt(n,nt),t=gt(n+7919,nt),o=gt(n+16661,nt),h=document.createElement("canvas");h.style.width=y+"px",h.style.height=y+"px",h.style.borderRadius="50%",h.style.flexShrink="0",h.style.display="block",w.appendChild(h);const M=K(y);h.width=M,h.height=M;const d=h.getContext("2d");function e(A,$){const u=A.length*2-2;if(u<=0)return 0;const a=$%u;return a<A.length?a:u-a}function C(A,$){const u=M/nt,a=Math.max(.3,u*.08),s=u*.1;d.fillStyle=`rgb(${f[0]},${f[1]},${f[2]})`,d.fillRect(0,0,M,M);const l=[r[e(r,A)],t[e(t,A+3)],o[e(o,A+7)]];for(let i=0;i<3;i++){const g=l[i],k=p[i],D=v[i];d.fillStyle=`rgba(${k[0]},${k[1]},${k[2]},${D})`;for(let O=0;O<nt;O++)for(let N=0;N<nt;N++){if(!g[O][N])continue;const L=N*u+a/2,_=O*u+a/2,X=u-a,q=u-a;s>0?(d.beginPath(),d.moveTo(L+s,_),d.lineTo(L+X-s,_),d.quadraticCurveTo(L+X,_,L+X,_+s),d.lineTo(L+X,_+q-s),d.quadraticCurveTo(L+X,_+q,L+X-s,_+q),d.lineTo(L+s,_+q),d.quadraticCurveTo(L,_+q,L,_+q-s),d.lineTo(L,_+s),d.quadraticCurveTo(L,_,L+s,_),d.fill()):d.fillRect(L,_,X,q)}}d.globalCompositeOperation="destination-in",d.beginPath(),d.arc(M/2,M/2,M/2,0,Math.PI*2),d.fill(),d.globalCompositeOperation="source-over"}let S=!1,x=0,c=0,P=null,T=0,R=null;C(0);function I(){R||(P=null,T=0,R=G(A=>{const $=P!==null?A-P:16;P=A;const u=S?1:0;let a=!1;if(Math.abs(x-u)>.003){const s=u>x?$/Ft:$/Wt;x=Math.max(0,Math.min(1,x+(u>x?1:-1)*s)),a=!0}else x!==u&&(x=u,a=!0);if(x===0&&!S){a&&C(c),R&&(R(),R=null);return}T+=$,T>=xt&&(T-=xt,c++,a=!0),a&&C(c)}))}return{canvas:h,setActive(A){S=A,(S||x>0)&&I()},destroy(){R&&(R(),R=null),h.parentNode&&h.parentNode.removeChild(h)}}}const Yt=800,Ut=1500,$t=22;function Vt(w,n,y,m){const b=U(n,m),f=b.bgRgb,p=b.lightRgb,v=[b.darkRgb,b.primaryRgb,b.lightRgb],r=W(n),t=2+Math.floor(r()*2),o=Array.from({length:t},(A,$)=>{const u=Array.from({length:40},()=>r()*.12-.06);return{baseRadius:7+$*11+r()*2,wobbles:u,strokeWidth:1.5+r()*2.5,shadeRgb:v[$%v.length],breatheSpeed:.09+r()*.08,breatheAmp:2+r()*2.5,phase:r()*Math.PI*2,wobbleSpeed:.045+r()*.04}}),h=document.createElement("canvas");h.style.width=y+"px",h.style.height=y+"px",h.style.borderRadius="50%",h.style.flexShrink="0",h.style.display="block",w.appendChild(h);const M=K(y);h.width=M,h.height=M;const d=h.getContext("2d"),e=M/100;function C(A,$){d.fillStyle=`rgb(${f[0]},${f[1]},${f[2]})`,d.fillRect(0,0,M,M);const u=(2+Math.sin(A*.07)*$)*e;d.beginPath(),d.arc(50*e,50*e,u,0,Math.PI*2),d.fillStyle=`rgba(${p[0]},${p[1]},${p[2]},0.8)`,d.fill();for(const a of o){const s=Math.sin(A*a.breatheSpeed+a.phase)*a.breatheAmp*$,l=.45+Math.sin(A*a.breatheSpeed*.5+a.phase+1)*.25*$;d.beginPath();for(let i=0;i<a.wobbles.length;i++){const g=i/a.wobbles.length*Math.PI*2,k=Math.sin(A*a.wobbleSpeed+i*.6+a.phase)*2.5*$,D=Math.min(a.baseRadius+s+a.wobbles[i]*a.baseRadius+k,38),O=(50+Math.cos(g)*D)*e,N=(50+Math.sin(g)*D)*e;i===0?d.moveTo(O,N):d.lineTo(O,N)}d.closePath(),d.strokeStyle=`rgba(${a.shadeRgb[0]},${a.shadeRgb[1]},${a.shadeRgb[2]},${l})`,d.lineWidth=a.strokeWidth*e,d.lineJoin="round",d.stroke()}d.globalCompositeOperation="destination-in",d.beginPath(),d.arc(M/2,M/2,M/2,0,Math.PI*2),d.fill(),d.globalCompositeOperation="source-over"}let S=!1,x=0,c=0,P=null,T=0,R=null;C(0,0);function I(){R||(P=null,T=0,R=G(A=>{const $=P!==null?A-P:16;P=A;const u=S?1:0;let a=!1;if(Math.abs(x-u)>.003){const s=u>x?$/Yt:$/Ut;x=Math.max(0,Math.min(1,x+(u>x?1:-1)*s)),a=!0}else x!==u&&(x=u,a=!0);if(x===0&&!S){a&&C(c,0),R&&(R(),R=null);return}T+=$,T>=$t&&(T-=$t,c++,a=!0),a&&C(c,x)}))}return{canvas:h,setActive(A){S=A,(S||x>0)&&I()},destroy(){R&&(R(),R=null),h.parentNode&&h.parentNode.removeChild(h)}}}const Bt=800,jt=1500,Rt=45;function Gt(w,n,y,m){const b=U(n,m),f=b.bgRgb,{hue:p,sat:v}=b,r=b.lightRgb,t=b.primaryRgb,o=b.darkRgb,h=9,M=9,d=5,e=W(n),C=Array.from({length:M},()=>Array(h).fill(null));for(let s=0;s<M;s++)for(let l=0;l<d;l++)if(e()>.38){const i=Math.abs(l-4)+Math.abs(s-4);C[s][l]=i<3?r:i<5?t:o,C[s][h-1-l]=C[s][l]}const S=document.createElement("canvas");S.style.width=y+"px",S.style.height=y+"px",S.style.borderRadius="50%",S.style.flexShrink="0",S.style.display="block",w.appendChild(S);const x=K(y);S.width=x,S.height=x;const c=S.getContext("2d");function P(s,l){const i=x/9,g=(x-h*i)/2,k=(x-M*i)/2;c.fillStyle=`rgb(${f[0]},${f[1]},${f[2]})`,c.fillRect(0,0,x,x);for(let D=0;D<M;D++){const O=(Math.sin(s*.18+D*1.8)*i*.7+Math.sin(s*.07+D)*i*.3)*l;for(let N=0;N<h;N++){const L=C[D][N];if(!L)continue;const _=1-(1-(.75+Math.sin(s*.14+N*.9+D*.6)*.25))*l,X=i*_,q=g+N*i+(i-X)/2+O,E=k+D*i+(i-X)/2;c.fillStyle=`rgb(${L[0]},${L[1]},${L[2]})`;const Y=1,B=X-.5,V=X-.5;c.beginPath(),c.moveTo(q+Y,E),c.lineTo(q+B-Y,E),c.quadraticCurveTo(q+B,E,q+B,E+Y),c.lineTo(q+B,E+V-Y),c.quadraticCurveTo(q+B,E+V,q+B-Y,E+V),c.lineTo(q+Y,E+V),c.quadraticCurveTo(q,E+V,q,E+V-Y),c.lineTo(q,E+Y),c.quadraticCurveTo(q,E,q+Y,E),c.fill()}}c.globalCompositeOperation="destination-in",c.beginPath(),c.arc(x/2,x/2,x/2,0,Math.PI*2),c.fill(),c.globalCompositeOperation="source-over"}let T=!1,R=0,I=0,A=null,$=0,u=null;P(0,0);function a(){u||(A=null,$=0,u=G(s=>{const l=A!==null?s-A:16;A=s;const i=T?1:0;let g=!1;if(Math.abs(R-i)>.003){const k=i>R?l/Bt:l/jt;R=Math.max(0,Math.min(1,R+(i>R?1:-1)*k)),g=!0}else R!==i&&(R=i,g=!0);if(R===0&&!T){g&&P(I,0),u&&(u(),u=null);return}$+=l,$>=Rt&&($-=Rt,I++,g=!0),g&&P(I,R)}))}return{canvas:S,setActive(s){T=s,(T||R>0)&&a()},destroy(){u&&(u(),u=null),S.parentNode&&S.parentNode.removeChild(S)}}}const Kt=800,Ht=1500,Pt=35;function Qt(w,n,y,m){const b=U(n,m),f=b.bgRgb,p=b.lightRgb,v=b.primaryRgb,r=b.darkRgb,t=7,o=4,h=W(n),M=Array.from({length:t},()=>Array(t).fill(null));for(let $=0;$<t;$++)for(let u=0;u<o;u++){const a=Math.abs(u-3)+Math.abs($-3);a>4||h()>.35&&(M[$][u]=a<2?p:a<4?v:r,M[$][t-1-u]=M[$][u])}const d=document.createElement("canvas");d.style.width=y+"px",d.style.height=y+"px",d.style.borderRadius="50%",d.style.flexShrink="0",d.style.display="block",w.appendChild(d);const e=K(y);d.width=e,d.height=e;const C=d.getContext("2d");function S($,u){const a=e/t;C.fillStyle=`rgb(${f[0]},${f[1]},${f[2]})`,C.fillRect(0,0,e,e),C.save(),C.translate(e/2,e/2),C.rotate(Math.PI/4),C.translate(-e/2,-e/2);for(let s=0;s<t;s++){const l=Math.sin($*.16+s*1.5)*a*.55*u;for(let i=0;i<t;i++){const g=M[s][i];if(!g)continue;const k=1-(1-(.7+Math.sin($*.12+i+s*.8)*.3))*u,D=a*k*.42,O=i*a+a/2+l,N=s*a+a/2;C.beginPath(),C.arc(O,N,D,0,Math.PI*2),C.fillStyle=`rgb(${g[0]},${g[1]},${g[2]})`,C.fill()}}C.restore(),C.globalCompositeOperation="destination-in",C.beginPath(),C.arc(e/2,e/2,e/2,0,Math.PI*2),C.fill(),C.globalCompositeOperation="source-over"}let x=!1,c=0,P=0,T=null,R=0,I=null;S(0,0);function A(){I||(T=null,R=0,I=G($=>{const u=T!==null?$-T:16;T=$;const a=x?1:0;let s=!1;if(Math.abs(c-a)>.003){const l=a>c?u/Kt:u/Ht;c=Math.max(0,Math.min(1,c+(a>c?1:-1)*l)),s=!0}else c!==a&&(c=a,s=!0);if(c===0&&!x){s&&S(P,0),I&&(I(),I=null);return}R+=u,R>=Pt&&(R-=Pt,P++,s=!0),s&&S(P,c)}))}return{canvas:d,setActive($){x=$,(x||c>0)&&A()},destroy(){I&&(I(),I=null),d.parentNode&&d.parentNode.removeChild(d)}}}function Zt(w,n,y,m){const{hue:b,sat:f}=U(n,m),p=W(n),v=3+Math.floor(p()*2),r=Array.from({length:v},()=>({baseX:.15+p()*.7,baseY:.15+p()*.7,freq:10+p()*18,orbitR:.08+p()*.18,orbitSpeed:.025+p()*.03,phase:p()*Math.PI*2}));function t(o,h,M){const d=o.getContext("2d"),e=o.width,C=3,S=d.createImageData(e,e),x=S.data;for(let c=0;c<e;c+=C)for(let P=0;P<e;P+=C){const T=P/e,R=c/e,I=T-.5,A=R-.5,$=Math.sqrt(I*I+A*A);if($>.5)continue;let u=0;for(const l of r){const i=l.baseX+Math.cos(h*l.orbitSpeed+l.phase)*l.orbitR*M,g=l.baseY+Math.sin(h*l.orbitSpeed*1.3+l.phase)*l.orbitR*M;u+=Math.sin(Math.sqrt((T-i)**2+(R-g)**2)*l.freq*Math.PI*2)}u/=r.length;const a=F(b/360,f/100,j(.55+(u+1)/2*.35,m)),s=Math.min((.5-$)*10,1);for(let l=0;l<C&&c+l<e;l++)for(let i=0;i<C&&P+i<e;i++){const g=((c+l)*e+(P+i))*4;x[g]=a[0],x[g+1]=a[1],x[g+2]=a[2],x[g+3]=s*255|0}}d.putImageData(S,0,0)}return Q(w,n,y,t,{fps:30})}function it(w){const n=W(w);return{scaleX:2+n()*4,scaleY:2+n()*4,offsetX:n()*100,offsetY:n()*100,twist:.6+n()*1.4,attractors:Array.from({length:2+Math.floor(n()*2)},()=>({orbitCx:.3+n()*.4,orbitCy:.3+n()*.4,orbitR:.1+n()*.2,orbitSpeed:.004+n()*.006,strength:.3+n()*.5,phase:n()*Math.PI*2}))}}function ct(w,n,y,m,b){let f=Math.sin(w*m.scaleX+m.offsetX)*Math.cos(n*m.scaleY+m.offsetY)*Math.PI*2*m.twist;for(const p of m.attractors){const v=p.orbitCx+Math.cos(y*p.orbitSpeed+p.phase)*p.orbitR*b,r=p.orbitCy+Math.sin(y*p.orbitSpeed*1.3+p.phase)*p.orbitR*b,t=w-v,o=n-r,h=Math.sqrt(t*t+o*o)+.01;f+=Math.atan2(o,t)*p.strength/(h*8+.5)*b}return f}const Jt=800,zt=1500,te=30;function ee(w,n,y,m){const b=U(n,m),f=it(n),{bgRgb:p,primaryRgb:v,darkRgb:r}=b,t=document.createElement("canvas");t.style.width=y+"px",t.style.height=y+"px",t.style.borderRadius="50%",t.style.flexShrink="0",t.style.display="block",w.appendChild(t);const o=K(y);t.width=o,t.height=o;const h=t.getContext("2d"),M=W(n+999),d=Array.from({length:90},()=>({x:M()*o,y:M()*o,life:Math.floor(M()*50),maxLife:25+Math.floor(M()*40),shade:M()>.5?v:r}));let e=0,C=0;const S=`rgb(${p[0]},${p[1]},${p[2]})`;function x(){h.fillStyle=S,h.fillRect(0,0,o,o);const u=W(n+500);for(let a=0;a<60;a++){let s=u()*o,l=u()*o;const i=u()>.5?v:r;h.beginPath(),h.moveTo(s,l);for(let g=0;g<30;g++){const k=ct(s/o,l/o,0,f,0);s+=Math.cos(k)*2,l+=Math.sin(k)*2,h.lineTo(s,l)}h.strokeStyle=`rgba(${i[0]},${i[1]},${i[2]},.3)`,h.lineWidth=1.5,h.stroke()}h.globalCompositeOperation="destination-in",h.beginPath(),h.arc(o/2,o/2,o/2,0,Math.PI*2),h.fill(),h.globalCompositeOperation="source-over"}x();const c=document.createElement("canvas");c.width=o,c.height=o;const P=c.getContext("2d");P.fillStyle=S,P.fillRect(0,0,o,o);function T(){const u=P.getImageData(0,0,o,o),a=u.data,s=p[0],l=p[1],i=p[2];for(let g=0;g<a.length;g+=4)Math.abs(a[g]-s)<=3&&Math.abs(a[g+1]-l)<=3&&Math.abs(a[g+2]-i)<=3&&(a[g]=s,a[g+1]=l,a[g+2]=i,a[g+3]=255);P.putImageData(u,0,0)}let R=!1,I=0,A=null;function $(){A||(A=G((u,a)=>{const s=R?1:0;if(Math.abs(I-s)>.003){const k=s>I?a/Jt:a/zt;I=Math.max(0,Math.min(1,I+(s>I?1:-1)*k))}else I=s;if(I===0&&!R){x(),A&&(A(),A=null);return}const l=a/(1e3/60);e+=l,C++;const i=I,g=(.08+.08*(1-i))*l;P.fillStyle=`rgba(${p[0]},${p[1]},${p[2]},${g})`,P.fillRect(0,0,o,o),C%te===0&&T();for(const k of d){const D=ct(k.x/o,k.y/o,e,f,i);k.x+=Math.cos(D)*3*Math.max(i,.1)*l,k.y+=Math.sin(D)*3*Math.max(i,.1)*l,k.life++;const O=k.x-o/2,N=k.y-o/2,L=Math.sqrt(O*O+N*N);if(k.life>k.maxLife||L>o/2-2){const _=W(n+k.life+(k.x|0)+e);k.x=_()*o,k.y=_()*o,k.life=0}if(L<o/2-2){const _=Math.min(k.life/5,1)*Math.min((k.maxLife-k.life)/5,1)*Math.max(i,.05);P.beginPath(),P.arc(k.x,k.y,1.5,0,Math.PI*2),P.fillStyle=`rgba(${k.shade[0]},${k.shade[1]},${k.shade[2]},${_*.7})`,P.fill()}}h.clearRect(0,0,o,o),h.drawImage(c,0,0),h.globalCompositeOperation="destination-in",h.beginPath(),h.arc(o/2,o/2,o/2,0,Math.PI*2),h.fill(),h.globalCompositeOperation="source-over"}))}return{canvas:t,setActive(u){R=u,(R||I>0)&&$()},destroy(){A&&(A(),A=null),t.parentNode&&t.parentNode.removeChild(t)}}}const ne=800,oe=1500,ae=30;function se(w,n,y,m){const b=U(n,m),f=[it(n),it(n+4219),it(n+8831)],{bgRgb:p}=b,v=[b.darkerRgb,b.darkRgb,b.primaryRgb],r=document.createElement("canvas");r.style.width=y+"px",r.style.height=y+"px",r.style.borderRadius="50%",r.style.flexShrink="0",r.style.display="block",w.appendChild(r);const t=K(y);r.width=t,r.height=t;const o=r.getContext("2d"),h=[1,1.5,2.2],M=[.4,.6,.85],d=[50,40,30],e=f.map((a,s)=>{const l=W(n+1e3+s*3331);return Array.from({length:d[s]},()=>({x:l()*t,y:l()*t,life:Math.floor(l()*40),maxLife:20+Math.floor(l()*35)}))});let C=0,S=0;const x=`rgb(${p[0]},${p[1]},${p[2]})`;function c(){o.fillStyle=x,o.fillRect(0,0,t,t),f.forEach((a,s)=>{const l=W(n+500+s*777),i=v[s];for(let g=0;g<30;g++){let k=l()*t,D=l()*t;o.beginPath(),o.moveTo(k,D);for(let O=0;O<25;O++){const N=ct(k/t,D/t,0,a,0);k+=Math.cos(N)*2,D+=Math.sin(N)*2,o.lineTo(k,D)}o.strokeStyle=`rgba(${i[0]},${i[1]},${i[2]},${M[s]*.35})`,o.lineWidth=h[s],o.stroke()}}),o.globalCompositeOperation="destination-in",o.beginPath(),o.arc(t/2,t/2,t/2,0,Math.PI*2),o.fill(),o.globalCompositeOperation="source-over"}c();const P=document.createElement("canvas");P.width=t,P.height=t;const T=P.getContext("2d");T.fillStyle=x,T.fillRect(0,0,t,t);function R(){const a=T.getImageData(0,0,t,t),s=a.data,l=p[0],i=p[1],g=p[2];for(let k=0;k<s.length;k+=4)Math.abs(s[k]-l)<=3&&Math.abs(s[k+1]-i)<=3&&Math.abs(s[k+2]-g)<=3&&(s[k]=l,s[k+1]=i,s[k+2]=g,s[k+3]=255);T.putImageData(a,0,0)}let I=!1,A=0,$=null;function u(){$||($=G((a,s)=>{const l=I?1:0;if(Math.abs(A-l)>.003){const D=l>A?s/ne:s/oe;A=Math.max(0,Math.min(1,A+(l>A?1:-1)*D))}else A=l;if(A===0&&!I){c(),$&&($(),$=null);return}const i=s/(1e3/60);C+=i,S++;const g=A,k=(.08+.08*(1-g))*i;T.fillStyle=`rgba(${p[0]},${p[1]},${p[2]},${k})`,T.fillRect(0,0,t,t),S%ae===0&&R(),e.forEach((D,O)=>{const N=f[O],L=v[O],_=h[O],X=M[O];for(const q of D){const E=ct(q.x/t,q.y/t,C,N,g);q.x+=Math.cos(E)*(1.8+O*.6)*Math.max(g,.1)*i,q.y+=Math.sin(E)*(1.8+O*.6)*Math.max(g,.1)*i,q.life++;const Y=q.x-t/2,B=q.y-t/2,V=Math.sqrt(Y*Y+B*B);if(q.life>q.maxLife||V>t/2-2){const tt=W(n+q.life+(q.x|0)+C+O*100);q.x=tt()*t,q.y=tt()*t,q.life=0}if(V<t/2-2){const tt=Math.min(q.life/4,1)*Math.min((q.maxLife-q.life)/4,1)*X*Math.max(g,.05);T.beginPath(),T.arc(q.x,q.y,_,0,Math.PI*2),T.fillStyle=`rgba(${L[0]},${L[1]},${L[2]},${tt})`,T.fill()}}}),o.clearRect(0,0,t,t),o.drawImage(P,0,0),o.globalCompositeOperation="destination-in",o.beginPath(),o.arc(t/2,t/2,t/2,0,Math.PI*2),o.fill(),o.globalCompositeOperation="source-over"}))}return{canvas:r,setActive(a){I=a,(I||A>0)&&u()},destroy(){$&&($(),$=null),r.parentNode&&r.parentNode.removeChild(r)}}}function st(w,n,y,m,b,f=3,p){let v=U(n,p),r=t(n,m);function t(M,d){const e=W(M);return Array.from({length:d},()=>({baseX:e(),baseY:e(),driftRx:.03+e()*.06,driftRy:.03+e()*.05,speed:.02+e()*.025,phase:e()*Math.PI*2,shade:Math.floor(e()*5)}))}function o(M,d,e){const C=M.getContext("2d"),S=M.width,x=S<=48?Math.max(f,4):f,c=C.createImageData(S,S),P=c.data,T=r.map(I=>({x:I.baseX+Math.sin(d*I.speed+I.phase)*I.driftRx*e,y:I.baseY+Math.cos(d*I.speed*.8+I.phase*1.3)*I.driftRy*e,shade:I.shade})),R=T.length;for(let I=0;I<S;I+=x){const A=I/S,$=A-.5,u=$*$;for(let a=0;a<S;a+=x){const s=a/S,l=s-.5,i=l*l+u;if(i>.25)continue;let g=1/0,k=0,D=1/0;for(let q=0;q<R;q++){const E=s-T[q].x,Y=A-T[q].y,B=E*E+Y*Y;B<g?(D=g,g=B,k=q):B<D&&(D=B)}const O=Math.sqrt(g),N=Math.sqrt(D),L=Math.min((.5-Math.sqrt(i))*10,1),_=b(O,N,k,T,v),X=L*255|0;for(let q=0;q<x&&I+q<S;q++)for(let E=0;E<x&&a+E<S;E++){const Y=((I+q)*S+(a+E))*4;P[Y]=_[0],P[Y+1]=_[1],P[Y+2]=_[2],P[Y+3]=X}}}C.putImageData(c,0,0)}const h=Q(w,n,y,o,{fps:30});return{canvas:h.canvas,setActive(M){h.setActive(M)},setSeed(M){v=U(M),r=t(M,m),h.reinit()},destroy(){h.destroy()}}}function re(w,n,y,m){const{hue:b,sat:f}=U(n,m),p=[F(b/360,f/100,j(.58,m)),F(b/360,f/100,j(.65,m)),F(b/360,f/100,j(.72,m)),F(b/360,f/100,j(.8,m)),F(b/360,f/100,j(.87,m))];function v(r,t,o,h){const M=Math.min((t-r)*12,1),d=p[h[o].shade],e=.6+M*.4;return[d[0]*e|0,d[1]*e|0,d[2]*e|0]}return st(w,n,y,10,v,3,m)}function le(w,n,y,m){const{hue:b,sat:f}=U(n,m);function p(v,r){const t=Math.max(0,1-(r-v)*35);return F(b/360,f/100,j(.82-t*.3,m))}return st(w,n,y,12,p,3,m)}const ie=[.62,.7,.8,.66,.75];function ce(w,n,y,m){const{hue:b,sat:f}=U(n,m);function p(v,r,t,o){const h=Math.min(v*8,1);return F(b/360,f/100,j(ie[o[t].shade]*(1-h*.3),m))}return st(w,n,y,9,p,3,m)}function fe(w,n,y,m){const{hue:b,sat:f}=U(n,m),p=W(n),v=Array.from({length:5},()=>(b+Math.floor(p()*40)-20+360)%360);function r(t,o,h,M){return o-t<.02?F(b/360,f*.3/100,j(.4,m)):F(v[M[h].shade]/360,f/100,j(.62+(1-Math.min(t*6,1))*.25,m))}return st(w,n,y,10,r,2,m)}function he(w,n,y,m){const{hue:b,sat:f}=U(n,m);function p(v,r,t,o){const h=Math.sin(v*40*Math.PI*2),M=Math.max(0,h)**3;return F(b/360,f/100,j(.55+M*.3+o[t].shade*.03,m))}return st(w,n,y,8,p,3,m)}function ge(w,n,y,m){const b=U(n,m),{hue:f,sat:p,bgRgb:v}=b,r=W(n),t={arms:2+Math.floor(r()*4),tightness:.08+r()*.12,dotSize:1.2+r()*1.5,rotSpeed:.016+r()*.02,armCurve:.5+r()*1.5,dir:r()>.5?1:-1};function o(h,M,d){const e=h.getContext("2d"),C=h.width;e.fillStyle=`rgb(${v[0]},${v[1]},${v[2]})`,e.fillRect(0,0,C,C);const S=C/2,x=C/2,c=C/2-2,P=M*t.rotSpeed*t.dir*d;for(let R=0;R<t.arms;R++){const I=R/t.arms*Math.PI*2;for(let A=0;A<120;A++){const $=A/120,u=$*c,a=I+$*t.armCurve*Math.PI*2*t.tightness*10+P,s=S+Math.cos(a)*u,l=x+Math.sin(a)*u;if(Math.sqrt((s-S)**2+(l-x)**2)>c)continue;const i=F(f/360,p/100,j(.55+$*.3,m));e.beginPath(),e.arc(s,l,t.dotSize*(1-$*.5),0,Math.PI*2),e.fillStyle=`rgba(${i[0]},${i[1]},${i[2]},${(1-$)*.9})`,e.fill()}}const T=F(f/360,p/100,j(.92,m));e.beginPath(),e.arc(S,x,3+Math.sin(M*.05)*d,0,Math.PI*2),e.fillStyle=`rgba(${T[0]},${T[1]},${T[2]},.9)`,e.fill(),e.globalCompositeOperation="destination-in",e.beginPath(),e.arc(S,x,c+2,0,Math.PI*2),e.fill(),e.globalCompositeOperation="source-over"}return Q(w,n,y,o,{fps:45})}function de(w,n,y,m,b){const{hue:f,sat:p}=U(n,m,b),v=W(n),r={scaleA:3+v()*5,scaleB:4+v()*6,scaleC:2+v()*4,scaleD:3+v()*5,speed:.04+v()*.05,offsetA:v()*10,offsetB:v()*10};function t(o,h,M){const d=o.getContext("2d"),e=o.width,C=2,S=h*M,x=d.createImageData(e,e),c=x.data;for(let P=0;P<e;P+=C)for(let T=0;T<e;T+=C){const R=T/e,I=P/e,A=R-.5,$=I-.5,u=Math.sqrt(A*A+$*$);if(u>.5)continue;const a=(Math.sin(R*r.scaleA+r.offsetA+S*r.speed)+Math.sin(I*r.scaleB+r.offsetB+S*r.speed*.7)+Math.sin(R*r.scaleC+I*r.scaleD+S*r.speed*1.3)+Math.sin(Math.sqrt((A*8)**2+($*8)**2)+S*r.speed*.5))/4,s=F(f/360,p/100,j(.55+(a+1)/2*.35,m)),l=Math.min((.5-u)*10,1);for(let i=0;i<C&&P+i<e;i++)for(let g=0;g<C&&T+g<e;g++){const k=((P+i)*e+(T+g))*4;c[k]=s[0],c[k+1]=s[1],c[k+2]=s[2],c[k+3]=l*255|0}}d.putImageData(x,0,0)}return Q(w,n,y,t,{fps:30})}const Z=11,ue=800,be=1500,vt=30;function pe(w,n,y,m){const b=U(n,m),f=b.bgRgb,p=b.primaryRgb,v=b.darkRgb,r=b.darkerRgb,t=W(n),o=Array.from({length:Z},()=>Array(Z).fill(!0)),h=Array.from({length:Z},()=>Array(Z).fill(!1)),M=[[0,-2],[0,2],[-2,0],[2,0]],d=[[1,1]];for(o[1][1]=!1,h[1][1]=!0;d.length>0;){const[u,a]=d[d.length-1],s=M.map(i=>({d:i,r:t()})).sort((i,g)=>i.r-g.r).map(i=>i.d);let l=!1;for(const[i,g]of s){const k=u+i,D=a+g;if(k>0&&k<Z-1&&D>0&&D<Z-1&&!h[D][k]){o[a+g/2][u+i/2]=!1,o[D][k]=!1,h[D][k]=!0,d.push([k,D]),l=!0;break}}l||d.pop()}const e=document.createElement("canvas");e.style.width=y+"px",e.style.height=y+"px",e.style.borderRadius="50%",e.style.flexShrink="0",e.style.display="block",w.appendChild(e);const C=K(y);e.width=C,e.height=C;const S=e.getContext("2d");function x(u,a){const s=C/Z;S.fillStyle=`rgb(${f[0]},${f[1]},${f[2]})`,S.fillRect(0,0,C,C);for(let l=0;l<Z;l++)for(let i=0;i<Z;i++){if(!o[l][i])continue;const g=Math.sin(u*.14-(i+l)*.4)*a,k=Math.max(.3,.5+g*.5),D=k>.6?p:k>.4?v:r;S.fillStyle=`rgba(${D[0]},${D[1]},${D[2]},${k})`,S.fillRect(i*s,l*s,s,s)}S.globalCompositeOperation="destination-in",S.beginPath(),S.arc(C/2,C/2,C/2,0,Math.PI*2),S.fill(),S.globalCompositeOperation="source-over"}let c=!1,P=0,T=0,R=null,I=0,A=null;x(0,0);function $(){A||(R=null,I=0,A=G(u=>{const a=R!==null?u-R:16;R=u;const s=c?1:0;let l=!1;if(Math.abs(P-s)>.003){const i=s>P?a/ue:a/be;P=Math.max(0,Math.min(1,P+(s>P?1:-1)*i)),l=!0}else P!==s&&(P=s,l=!0);if(P===0&&!c){l&&x(T,0),A&&(A(),A=null);return}I+=a,I>=vt&&(I-=vt,T++,l=!0),l&&x(T,P)}))}return{canvas:e,setActive(u){c=u,(c||P>0)&&$()},destroy(){A&&(A(),A=null),e.parentNode&&e.parentNode.removeChild(e)}}}const ye=800,Me=1500,Ct=25;function me(w,n,y,m){const b=U(n,m),f=b.bgRgb,p=b.lightRgb,v=b.darkerRgb,r=[b.lightRgb,b.primaryRgb,b.darkRgb],t=W(n),o=3+Math.floor(t()*3),h=Array.from({length:o},($,u)=>({rx:12+u*8+t()*4,ry:6+t()*(8+u*3),tilt:t()*180,dots:1+Math.floor(t()*3),speed:(.04+t()*.05)*(t()>.5?1:-1),dotR:1.5+t()*1.5,shadeRgb:r[u%3],phase:t()*Math.PI*2})),M=document.createElement("canvas");M.style.width=y+"px",M.style.height=y+"px",M.style.borderRadius="50%",M.style.flexShrink="0",M.style.display="block",w.appendChild(M);const d=K(y);M.width=d,M.height=d;const e=M.getContext("2d"),C=d/100;function S($,u){e.fillStyle=`rgb(${f[0]},${f[1]},${f[2]})`,e.fillRect(0,0,d,d);const a=(3+Math.sin($*.06)*.8*u)*C;e.beginPath(),e.arc(50*C,50*C,a,0,Math.PI*2),e.fillStyle=`rgba(${p[0]},${p[1]},${p[2]},0.85)`,e.fill();for(let s=0;s<h.length;s++){const l=h[s],i=(l.tilt+$*.3*(s%2===0?1:-1)*u)*Math.PI/180;e.save(),e.translate(50*C,50*C),e.rotate(i),e.beginPath(),e.ellipse(0,0,l.rx*C,l.ry*C,0,0,Math.PI*2),e.strokeStyle=`rgba(${v[0]},${v[1]},${v[2]},0.3)`,e.lineWidth=.6*C,e.stroke();for(let g=0;g<l.dots;g++){const k=l.phase+g/l.dots*Math.PI*2+$*l.speed*u,D=Math.cos(k)*l.rx*C,O=Math.sin(k)*l.ry*C;e.beginPath(),e.arc(D,O,l.dotR*C,0,Math.PI*2),e.fillStyle=`rgba(${l.shadeRgb[0]},${l.shadeRgb[1]},${l.shadeRgb[2]},0.9)`,e.fill()}e.restore()}e.globalCompositeOperation="destination-in",e.beginPath(),e.arc(d/2,d/2,d/2,0,Math.PI*2),e.fill(),e.globalCompositeOperation="source-over"}let x=!1,c=0,P=0,T=null,R=0,I=null;S(0,0);function A(){I||(T=null,R=0,I=G($=>{const u=T!==null?$-T:16;T=$;const a=x?1:0;let s=!1;if(Math.abs(c-a)>.003){const l=a>c?u/ye:u/Me;c=Math.max(0,Math.min(1,c+(a>c?1:-1)*l)),s=!0}else c!==a&&(c=a,s=!0);if(c===0&&!x){s&&S(P,0),I&&(I(),I=null);return}R+=u,R>=Ct&&(R-=Ct,P++,s=!0),s&&S(P,c)}))}return{canvas:M,setActive($){x=$,(x||c>0)&&A()},destroy(){I&&(I(),I=null),M.parentNode&&M.parentNode.removeChild(M)}}}function xe(w,n,y,m){const b=U(n,m),{hue:f,sat:p,bgRgb:v}=b,r=W(n),t=[[1,2],[2,3],[3,4],[1,3],[3,5],[2,5],[1,4],[4,5]],o=t[Math.floor(r()*t.length)],h=r()>.5,M={freqX:h?o[1]:o[0],freqY:h?o[0]:o[1],phaseX:r()*Math.PI*2,phaseY:r()*Math.PI*2,decay:.006+r()*.006,drift:.007+r()*.008};function d(e,C,S){const x=e.getContext("2d"),c=e.width;x.fillStyle=`rgb(${v[0]},${v[1]},${v[2]})`,x.fillRect(0,0,c,c);const P=c/2,T=c/2,R=c/2-4,I=C*S*M.drift,A=F(f/360,p/100,j(.65,m)),$=F(f/360,p/100,j(.52,m)),u=400;x.beginPath();for(let a=0;a<=u;a++){const s=a/u,l=s*Math.PI*2*3,i=Math.exp(-s*M.decay*200),g=P+Math.sin(l*M.freqX+M.phaseX+I)*R*.8*i,k=T+Math.sin(l*M.freqY+M.phaseY+I*1.3)*R*.8*i;a===0?x.moveTo(g,k):x.lineTo(g,k)}x.strokeStyle=`rgba(${A[0]},${A[1]},${A[2]},0.7)`,x.lineWidth=1.5,x.stroke(),x.beginPath();for(let a=0;a<=u;a++){const s=a/u,l=s*Math.PI*2*3,i=Math.exp(-s*M.decay*200),g=P+Math.sin(l*M.freqX+M.phaseX+I+.4)*R*.75*i,k=T+Math.sin(l*M.freqY+M.phaseY+I*1.3+.4)*R*.75*i;a===0?x.moveTo(g,k):x.lineTo(g,k)}x.strokeStyle=`rgba(${$[0]},${$[1]},${$[2]},0.35)`,x.lineWidth=1,x.stroke(),x.globalCompositeOperation="destination-in",x.beginPath(),x.arc(P,T,R+4,0,Math.PI*2),x.fill(),x.globalCompositeOperation="source-over"}return Q(w,n,y,d,{fps:45})}const $e=800,Re=1500,Pe=.01,ve=.12*.12,Ce=.04*.04;function Ie(w,n,y,m){const b=U(n,m),{bgRgb:f,primaryRgb:p,lightRgb:v,darkRgb:r}=b,t=document.createElement("canvas");t.style.width=y+"px",t.style.height=y+"px",t.style.borderRadius="50%",t.style.flexShrink="0",t.style.display="block",w.appendChild(t);const o=K(y);t.width=o,t.height=o;const h=t.getContext("2d"),M=W(n),d=35+Math.floor(M()*20),e=Array.from({length:d},()=>{const A=M()*Math.PI*2;return{x:.2+M()*.6,y:.2+M()*.6,vx:Math.cos(A)*.003,vy:Math.sin(A)*.003,shade:M()<.33?r:M()<.66?p:v,size:1+M()*1.5}}),C=`rgb(${f[0]},${f[1]},${f[2]})`;function S(){h.fillStyle=C,h.fillRect(0,0,o,o);for(const A of e){const $=A.x-.5,u=A.y-.5;$*$+u*u>.2304||(h.beginPath(),h.arc(A.x*o,A.y*o,A.size,0,Math.PI*2),h.fillStyle=`rgba(${A.shade[0]},${A.shade[1]},${A.shade[2]},.7)`,h.fill())}h.globalCompositeOperation="destination-in",h.beginPath(),h.arc(o/2,o/2,o/2,0,Math.PI*2),h.fill(),h.globalCompositeOperation="source-over"}S();const x=document.createElement("canvas");x.width=o,x.height=o;const c=x.getContext("2d");c.fillStyle=C,c.fillRect(0,0,o,o);let P=!1,T=0,R=null;function I(){R||(R=G((A,$)=>{const u=P?1:0;if(Math.abs(T-u)>.003){const i=u>T?$/$e:$/Re;T=Math.max(0,Math.min(1,T+(u>T?1:-1)*i))}else T=u;if(T===0&&!P){S(),R&&(R(),R=null);return}const a=T,s=$/(1e3/60),l=(.08+.15*(1-a))*s;c.fillStyle=`rgba(${f[0]},${f[1]},${f[2]},${l})`,c.fillRect(0,0,o,o);for(let i=0;i<e.length;i++){const g=e[i];let k=0,D=0,O=0,N=0,L=0,_=0,X=0;for(let z=0;z<e.length;z++){if(i===z)continue;const bt=e[z].x-g.x,pt=e[z].y-g.y,yt=bt*bt+pt*pt;if(yt<Ce){const St=Math.sqrt(yt);k-=bt/St,D-=pt/St}yt<ve&&(O+=e[z].vx,N+=e[z].vy,L+=e[z].x,_+=e[z].y,X++)}X>0&&(O/=X,N/=X,L=L/X-g.x,_=_/X-g.y);const q=.5-g.x,E=.5-g.y,Y=Math.sqrt(q*q+E*E)+.01,B=Math.max(0,Y-.3)*.02;g.vx+=(k*.05+O*.03+L*.01+q/Y*B)*a,g.vy+=(D*.05+N*.03+_*.01+E/Y*B)*a;const V=Math.sqrt(g.vx*g.vx+g.vy*g.vy),tt=Pe*Math.max(a,.15);V>tt&&(g.vx=g.vx/V*tt,g.vy=g.vy/V*tt),g.x+=g.vx*s,g.y+=g.vy*s;const dt=g.x-.5,ut=g.y-.5;dt*dt+ut*ut>.2116&&(g.x=.5-dt*.3,g.y=.5-ut*.3),c.beginPath(),c.arc(g.x*o,g.y*o,g.size,0,Math.PI*2),c.fillStyle=`rgba(${g.shade[0]},${g.shade[1]},${g.shade[2]},${.5+a*.4})`,c.fill()}h.clearRect(0,0,o,o),h.drawImage(x,0,0),h.globalCompositeOperation="destination-in",h.beginPath(),h.arc(o/2,o/2,o/2,0,Math.PI*2),h.fill(),h.globalCompositeOperation="source-over"}))}return{canvas:t,setActive(A){P=A,(P||T>0)&&I()},destroy(){R&&(R(),R=null),t.parentNode&&t.parentNode.removeChild(t)}}}function Ae(w,n,y,m,b){const{hue:f,sat:p}=U(n,m,b),v=W(n),r=Array.from({length:3+Math.floor(v()*3)},()=>({cx:.2+v()*.6,cy:.2+v()*.6,freq:20+v()*30,speed:.03+v()*.035,phase:v()*Math.PI*2,strength:.5+v()*.5}));function t(o,h,M){const d=o.getContext("2d"),e=o.width,C=2,S=d.createImageData(e,e),x=S.data;for(let c=0;c<e;c+=C)for(let P=0;P<e;P+=C){const T=P/e,R=c/e,I=T-.5,A=R-.5,$=Math.sqrt(I*I+A*A);if($>.5)continue;let u=0;for(const l of r){const i=Math.sqrt((T-l.cx)**2+(R-l.cy)**2),g=Math.sin(i*l.freq-h*l.speed*M+l.phase),k=Math.exp(-i*4);u+=g*k*l.strength}u/=r.length;const a=F(f/360,p/100,j(.55+(u+1)/2*.35,m)),s=Math.min((.5-$)*10,1);for(let l=0;l<C&&c+l<e;l++)for(let i=0;i<C&&P+i<e;i++){const g=((c+l)*e+(P+i))*4;x[g]=a[0],x[g+1]=a[1],x[g+2]=a[2],x[g+3]=s*255|0}}d.putImageData(S,0,0)}return Q(w,n,y,t,{fps:30})}function ke(w,n,y,m){const{hue:b,sat:f}=U(n,m),p=W(n),v=Array.from({length:5+Math.floor(p()*4)},(t,o)=>({offset:p()*Math.PI*2,freq:2+p()*4,amp:.06+p()*.1,width:.03+p()*.04,horiz:o%2===0,speed:.02+p()*.035,lum:.6+p()*.25}));function r(t,o,h){const M=t.getContext("2d"),d=t.width,e=2,C=M.createImageData(d,d),S=C.data;for(let x=0;x<d;x+=e)for(let c=0;c<d;c+=e){const P=c/d,T=x/d,R=P-.5,I=T-.5,A=Math.sqrt(R*R+I*I);if(A>.5)continue;let $=-1,u=0;for(let i=0;i<v.length;i++){const g=v[i],k=g.horiz?P:T,D=g.horiz?T:P,O=.1+i/v.length*.8+Math.sin(k*g.freq*Math.PI*2+g.offset+o*g.speed*h)*g.amp,N=Math.abs(D-O);if(N<g.width){const L=1-N/g.width;L>u&&(u=L,$=i)}}let a=.5;$>=0&&(a=v[$].lum*u);const s=F(b/360,f/100,j(a,m)),l=Math.min((.5-A)*10,1);for(let i=0;i<e&&x+i<d;i++)for(let g=0;g<e&&c+g<d;g++){const k=((x+i)*d+(c+g))*4;S[k]=s[0],S[k+1]=s[1],S[k+2]=s[2],S[k+3]=l*255|0}}M.putImageData(C,0,0)}return Q(w,n,y,r,{fps:30})}function we(w,n,y,m){const b=U(n,m),{hue:f,sat:p,bgRgb:v}=b,r=W(n),t={warpPoints:Array.from({length:4+Math.floor(r()*3)},()=>({x:.15+r()*.7,y:.15+r()*.7,strength:.3+r()*.7,freq:3+r()*5,orbitR:.05+r()*.12,orbitSpeed:.012+r()*.018,phase:r()*Math.PI*2})),gridSpacing:.06+r()*.04};function o(h,M,d){const e=h.getContext("2d"),C=h.width;e.fillStyle=`rgb(${v[0]},${v[1]},${v[2]})`,e.fillRect(0,0,C,C);const S=t.gridSpacing,x=t.warpPoints.map(c=>({x:c.x+Math.cos(M*c.orbitSpeed+c.phase)*c.orbitR*d,y:c.y+Math.sin(M*c.orbitSpeed*1.3+c.phase)*c.orbitR*d,strength:c.strength,freq:c.freq}));for(let c=0;c<=1;c+=S){const P=[];for(let R=0;R<=1.01;R+=.01){let I=0,A=0;for(const $ of x){const u=c-$.x,a=R-$.y,s=Math.sqrt(u*u+a*a)+.01;I+=Math.sin(s*$.freq*Math.PI*2)*$.strength*.02/s,A+=Math.cos(s*$.freq*Math.PI*2)*$.strength*.02/s}P.push([(c+I)*C,(R+A)*C])}e.beginPath(),P.forEach((R,I)=>I===0?e.moveTo(R[0],R[1]):e.lineTo(R[0],R[1]));const T=j(.5+c*.3,m);e.strokeStyle=`rgba(${F(f/360,p/100,T).join(",")},0.4)`,e.lineWidth=.8,e.stroke()}for(let c=0;c<=1;c+=S){const P=[];for(let R=0;R<=1.01;R+=.01){let I=0,A=0;for(const $ of x){const u=R-$.x,a=c-$.y,s=Math.sqrt(u*u+a*a)+.01;I+=Math.sin(s*$.freq*Math.PI*2)*$.strength*.02/s,A+=Math.cos(s*$.freq*Math.PI*2)*$.strength*.02/s}P.push([(R+I)*C,(c+A)*C])}e.beginPath(),P.forEach((R,I)=>I===0?e.moveTo(R[0],R[1]):e.lineTo(R[0],R[1]));const T=j(.5+c*.3,m);e.strokeStyle=`rgba(${F(f/360,p/100,T).join(",")},0.4)`,e.lineWidth=.8,e.stroke()}e.globalCompositeOperation="destination-in",e.beginPath(),e.arc(C/2,C/2,C/2,0,Math.PI*2),e.fill(),e.globalCompositeOperation="source-over"}return Q(w,n,y,o,{fps:30})}const J=48,ot=48,at=J*ot,ft=8,Se=800,Te=1500,It=50;function De(w,n){return(n+ot)%ot*J+(w+J)%J}function qe(w){const n=new Uint8Array(at);for(let y=0;y<ot;y++)for(let m=0;m<J;m++){let b=0;for(let p=-1;p<=1;p++)for(let v=-1;v<=1;v++)(v||p)&&(b+=w[De(m+v,y+p)]);const f=y*J+m;n[f]=w[f]&&b===2||b===3?1:0}return n}function At(w){let n=0,y=0;for(let m=0;m<at;m+=2)n=(n<<5)-n+w[m]|0,y=(y<<5)-y+(w[m+1]||0)|0;return n+"|"+y}function Ne(w,n){let y=null,m=0;for(let b=0;b<80;b++){const f=new Uint8Array(at),p=.28+w()*.14;for(let o=0;o<at;o++)f[o]=w()<p?1:0;const v=[Uint8Array.from(f)],r=new Set;r.add(At(f));let t=f;for(let o=0;o<400;o++){t=qe(t);const h=At(t);if(r.has(h))break;r.add(h),v.push(Uint8Array.from(t))}if(v.length>m&&(m=v.length,y=v),m>=n)break}return y}function Oe(w,n){const y=Math.floor(w*.1),m=Math.max(y+1,Math.floor(w*.9)),b=m-y,f=b*2,p=(n%f+f)%f;return p<b?y+p:m-(p-b)}function Le(w,n,y,m){const b=U(n,m),f=b.bgRgb,p=b.primaryRgb,v=b.darkRgb,r=document.createElement("canvas");r.style.width=y+"px",r.style.height=y+"px",r.style.borderRadius="50%",r.style.flexShrink="0",r.style.display="block",w.appendChild(r);const t=K(y);r.width=t,r.height=t;const o=r.getContext("2d"),h=W(n),M=[];for(let $=0;$<ft;$++){const u=Math.abs(n*31+$*7919+$*$*13|0)||1,a=W(u),s=Ne(a,48),l=Math.floor(h()*s.length);M.push({history:s,tick:l})}const d=new Float32Array(at),e=t/2,C=t/2,S=t/2;function x(){d.fill(0);for(let l=0;l<ft;l++){const i=M[l],g=Oe(i.history.length,i.tick),k=i.history[g];for(let D=0;D<at;D++)k[D]&&(d[D]+=1)}const $=o.createImageData(t,t),u=$.data,a=t/J,s=t/ot;for(let l=0;l<t;l++)for(let i=0;i<t;i++){const g=i-e,k=l-C,D=Math.sqrt(g*g+k*k);if(D>S){const V=(l*t+i)*4;u[V+3]=0;continue}const O=Math.min(Math.floor(i/a),J-1),L=Math.min(Math.floor(l/s),ot-1)*J+O,_=d[L]/ft;let X,q,E;if(_<.4){const V=_/.4;X=f[0]+(v[0]-f[0])*V,q=f[1]+(v[1]-f[1])*V,E=f[2]+(v[2]-f[2])*V}else{const V=(_-.4)/.6;X=v[0]+(p[0]-v[0])*V,q=v[1]+(p[1]-v[1])*V,E=v[2]+(p[2]-v[2])*V}let Y=255;D>S-1.5&&(Y=Math.max(0,(S-D)/1.5*255));const B=(l*t+i)*4;u[B]=X,u[B+1]=q,u[B+2]=E,u[B+3]=Y}o.putImageData($,0,0)}let c=!1,P=0,T=null,R=0,I=null;x();function A(){I||(T=null,R=0,I=G($=>{const u=T!==null?$-T:16;T=$;const a=c?1:0;let s=!1;if(Math.abs(P-a)>.003){const l=a>P?u/Se:u/Te;P=Math.max(0,Math.min(1,P+(a>P?1:-1)*l)),s=!0}else P!==a&&(P=a,s=!0);if(P===0&&!c){s&&x(),I&&(I(),I=null);return}if(R+=u*P,R>=It){R-=It;for(let l=0;l<ft;l++)M[l].tick++;s=!0}s&&x()}))}return{canvas:r,setActive($){c=$,(c||P>0)&&A()},destroy(){I&&(I(),I=null),r.parentNode&&r.parentNode.removeChild(r)}}}const kt={blob:Lt,"triple-gol":Xt,"organic-rings":Vt,pixel:Gt,"pixel-diamond":Qt,interference:Zt,"flow-field":ee,"layered-flow":se,voronoi:re,"voronoi-wire":le,"voronoi-gradient":ce,"voronoi-stained":fe,"voronoi-topo":he,spiral:ge,plasma:de,maze:pe,orbital:me,lissajous:xe,boids:Ie,ripple:Ae,weave:ke,warp:we,"layered-life":Le},wt=Object.keys(kt);function _e(w,n){const y=n.style,m=n.size??48;let b=n.active??!1,f=n.mode??"light",p=n.hue??null;const v=kt[y];if(!v)throw new Error(`Unknown avatar style "${y}". Available: ${wt.join(", ")}`);function r(){return p!=null?{hue:p}:void 0}let t=typeof n.seed=="number"?n.seed:Mt(String(n.seed)),o=v(w,t,m,f,r());b&&o.setActive(!0);function h(){o.destroy(),o=v(w,t,m,f,r()),b&&o.setActive(!0)}return{setActive(M){b=M,o.setActive(M)},setSeed(M){const d=typeof M=="number"?M:Mt(String(M));d!==t&&(t=d,h())},setMode(M){M!==f&&(f=M,h())},setHue(M){M!==p&&(p=M,h())},destroy(){o.destroy()}}}return rt.create=_e,rt.styles=wt,Object.defineProperty(rt,Symbol.toStringTag,{value:"Module"}),rt})({});
