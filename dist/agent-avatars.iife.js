var AgentAvatars=(function(st){"use strict";function ut(T){let n=0;for(let P=0;P<T.length;P++)n=(n<<5)-n+T.charCodeAt(P),n|=0;return Math.abs(n)||1}function W(T){let n=(T%2147483647+2147483647)%2147483647;return n===0&&(n=1),()=>(n=n*16807%2147483647,(n-1)/2147483646)}function X(T,n,P){if(n===0){const g=Math.round(P*255);return[g,g,g]}const u=P<.5?P*(1+n):P+n-P*n,$=2*P-u,M=(g,A,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6?g+(A-g)*6*s:s<1/2?A:s<2/3?g+(A-g)*(2/3-s)*6:g);return[Math.round(M($,u,T+.3333333333333333)*255),Math.round(M($,u,T)*255),Math.round(M($,u,T-.3333333333333333)*255)]}function U(T,n){return n!=="dark"?T:Math.max(.15,Math.min(.72,.88-T*.78))}function V(T,n){const P=W(T),u=Math.floor(P()*360),$=30+Math.floor(P()*25),M=n==="dark",g=Math.max($-15,8),A=6,s=M?{bg:.1,lighter:.18,light:.3,primary:.45,dark:.58,darker:.7,greyLight:.5,greyDark:.22}:{bg:.95,lighter:.9,light:.83,primary:.75,dark:.62,darker:.48,greyLight:.82,greyDark:.45};return{primary:`hsl(${u}, ${$}%, ${s.primary*100}%)`,light:`hsl(${u}, ${$}%, ${s.light*100}%)`,lighter:`hsl(${u}, ${$}%, ${s.lighter*100}%)`,dark:`hsl(${u}, ${$}%, ${s.dark*100}%)`,darker:`hsl(${u}, ${$}%, ${s.darker*100}%)`,bg:`hsl(${u}, ${g}%, ${s.bg*100}%)`,greyLight:`hsl(${u}, ${A}%, ${s.greyLight*100}%)`,greyDark:`hsl(${u}, ${A}%, ${s.greyDark*100}%)`,hue:u,sat:$,mode:M?"dark":"light",primaryRgb:X(u/360,$/100,s.primary),lightRgb:X(u/360,$/100,s.light),darkRgb:X(u/360,$/100,s.dark),darkerRgb:X(u/360,$/100,s.darker),bgRgb:X(u/360,g/100,s.bg),greyLightRgb:X(u/360,A/100,s.greyLight),greyDarkRgb:X(u/360,A/100,s.greyDark)}}const nt=new Set;let z=null;function bt(T){for(const n of nt)n(T);nt.size>0?z=requestAnimationFrame(bt):z=null}function K(T){return nt.add(T),z===null&&(z=requestAnimationFrame(bt)),()=>{nt.delete(T),nt.size===0&&z!==null&&(cancelAnimationFrame(z),z=null)}}const At=800,wt=1500,pt=1e3/60,St=typeof window<"u"?Math.min(window.devicePixelRatio||1,2):1;function G(T){return Math.min(Math.max(Math.round(T*St),32),200)}function H(T,n,P,u,$){const M=document.createElement("canvas");M.style.width=P+"px",M.style.height=P+"px",M.style.borderRadius="50%",M.style.flexShrink="0",M.style.display="block",T.appendChild(M);const g=($==null?void 0:$.fps)??60,A=g<60?Math.round(60/g):1;let s=!1,o=0,e=0,i=null,y=0,r=0,t=null,m=u;function v(){const C=G(P);M.width=C,M.height=C,o=0,e=0,i=null,y=0,m(M,0,0)}function b(C){const x=i!==null?C-i:16;i=C;const R=x>200?pt:Math.min(x,50),k=s?1:0;if(Math.abs(e-k)>.003){const d=k>e?R/At:R/wt;e=Math.max(0,Math.min(1,e+(k>e?1:-1)*d))}else e=k;if(e===0&&!s)return m(M,o,0),"done";y+=R,r++,!(r<A)&&(r=0,o+=y/pt,y=0,m(M,o,e))}function l(){if(t)return;i=null,t=K(x=>{b(x)==="done"&&t&&(t(),t=null)})}function S(){t&&(t(),t=null)}return v(),{canvas:M,setActive(C){s=C,s||e>0?l():m(M,o,0)},setDrawFn(C){m=C},reinit(){S(),v(),s&&l()},destroy(){S(),M.parentNode&&M.parentNode.removeChild(M)}}}function kt(T,n,P,u){const $=V(n,u),{hue:M,sat:g,bgRgb:A}=$,s=W(n),o=4+Math.floor(s()*3),e=Array.from({length:o},()=>({baseX:.2+s()*.6,baseY:.2+s()*.6,strength:.5+s()*.9,orbitRx:.06+s()*.14,orbitRy:.06+s()*.14,speed:.03+s()*.04,phase:s()*Math.PI*2}));function i(y,r,t){const m=y.getContext("2d"),v=y.width,b=3,l=m.createImageData(v,v),S=l.data;for(let C=0;C<v;C+=b)for(let x=0;x<v;x+=b){const R=x/v,k=C/v,d=R-.5,p=k-.5,f=Math.sqrt(d*d+p*p);let a,c,h,w;if(f>.5)a=c=h=w=0;else{let D=0;for(const q of e){const L=q.baseX+Math.sin(r*q.speed+q.phase)*q.orbitRx*t,O=q.baseY+Math.cos(r*q.speed*.8+q.phase*1.3)*q.orbitRy*t;D+=q.strength/((R-L)**2+(k-O)**2+.008)}const I=Math.min((.5-f)*10,1);if(D>5.5){const q=Math.min((D-5.5)/15,1),L=X(M/360,g/100,U(.58+q*.3,u));a=L[0],c=L[1],h=L[2],w=Math.min(q*2,1)*I*255}else a=A[0],c=A[1],h=A[2],w=I*255}for(let D=0;D<b&&C+D<v;D++)for(let I=0;I<b&&x+I<v;I++){const q=((C+D)*v+(x+I))*4;S[q]=a,S[q+1]=c,S[q+2]=h,S[q+3]=w|0}}m.putImageData(l,0,0)}return H(T,n,P,i,{fps:30})}function Tt(T){const n=T.length,P=T[0].length;return T.map((u,$)=>u.map((M,g)=>{let A=0;for(let s=-1;s<=1;s++)for(let o=-1;o<=1;o++)!s&&!o||T[($+s+n)%n][(g+o+P)%P]&&A++;return M&&A===2||A===3}))}function yt(T){let n="",P=0,u=0;for(const $ of T)for(const M of $)M&&(P|=1<<u),++u===8&&(n+=String.fromCharCode(P),P=0,u=0);return u>0&&(n+=String.fromCharCode(P)),n}function Dt(T){let n=0;for(const P of T)for(const u of P)u&&n++;return n}function it(T,n){const P=W(T),u=Array.from({length:n},()=>Array(n).fill(!1)),$=[[[0,1],[0,2],[1,0],[1,1],[2,1]],[[0,1],[1,3],[2,0],[2,1],[2,4],[2,5],[2,6]],[[0,0],[0,1],[0,2],[1,1],[2,0],[2,1],[2,2]],[[0,0],[0,1],[0,2],[2,1],[3,1],[4,1]],[[0,0],[0,1],[1,0],[1,2],[1,3],[2,1],[2,2]]];for(let e=0;e<2;e++){const i=$[Math.floor(P()*$.length)],y=3+Math.floor(P()*(n-6)),r=3+Math.floor(P()*(n-6)),t=Math.floor(P()*4);for(let[m,v]of i){for(let b=0;b<t;b++){const l=v;v=-m,m=l}u[(r+m+n)%n][(y+v+n)%n]=!0}}const M=[[[0,-1],[0,0],[0,1]],[[0,0],[0,1],[1,0],[1,1]]];for(let e=0;e<3;e++){const i=M[Math.floor(P()*M.length)],y=2+Math.floor(P()*(n-4)),r=2+Math.floor(P()*(n-4));for(const[t,m]of i)u[(r+t+n)%n][(y+m+n)%n]=!0}const g=[u],A=new Map;A.set(yt(u),0);let s=u;for(let e=1;e<=500;e++){s=Tt(s);const i=yt(s);if(A.has(i))break;A.set(i,e),g.push(s)}const o=g.filter((e,i)=>i===0||Dt(e)>6);return o.length>10?o:g.slice(0,Math.max(g.length,20))}const tt=14,qt=800,Ot=1500,Mt=130;function Nt(T,n,P,u){const $=V(n,u),M=$.bgRgb,g=[$.darkerRgb,$.darkRgb,$.primaryRgb],A=[.5,.7,1],s=it(n,tt),o=it(n+7919,tt),e=it(n+16661,tt),i=document.createElement("canvas");i.style.width=P+"px",i.style.height=P+"px",i.style.borderRadius="50%",i.style.flexShrink="0",i.style.display="block",T.appendChild(i);const y=G(P);i.width=y,i.height=y;const r=i.getContext("2d");function t(k,d){const p=k.length*2-2;if(p<=0)return 0;const f=d%p;return f<k.length?f:p-f}function m(k,d){const p=y/tt,f=Math.max(.3,p*.08),a=p*.1;r.fillStyle=`rgb(${M[0]},${M[1]},${M[2]})`,r.fillRect(0,0,y,y);const c=[s[t(s,k)],o[t(o,k+3)],e[t(e,k+7)]];for(let h=0;h<3;h++){const w=c[h],D=g[h],I=A[h];r.fillStyle=`rgba(${D[0]},${D[1]},${D[2]},${I})`;for(let q=0;q<tt;q++)for(let L=0;L<tt;L++){if(!w[q][L])continue;const O=L*p+f/2,F=q*p+f/2,Y=p-f,N=p-f;a>0?(r.beginPath(),r.moveTo(O+a,F),r.lineTo(O+Y-a,F),r.quadraticCurveTo(O+Y,F,O+Y,F+a),r.lineTo(O+Y,F+N-a),r.quadraticCurveTo(O+Y,F+N,O+Y-a,F+N),r.lineTo(O+a,F+N),r.quadraticCurveTo(O,F+N,O,F+N-a),r.lineTo(O,F+a),r.quadraticCurveTo(O,F,O+a,F),r.fill()):r.fillRect(O,F,Y,N)}}r.globalCompositeOperation="destination-in",r.beginPath(),r.arc(y/2,y/2,y/2,0,Math.PI*2),r.fill(),r.globalCompositeOperation="source-over"}let v=!1,b=0,l=0,S=null,C=0,x=null;m(0);function R(){x||(S=null,C=0,x=K(k=>{const d=S!==null?k-S:16;S=k;const p=v?1:0;let f=!1;if(Math.abs(b-p)>.003){const a=p>b?d/qt:d/Ot;b=Math.max(0,Math.min(1,b+(p>b?1:-1)*a)),f=!0}else b!==p&&(b=p,f=!0);if(b===0&&!v){f&&m(l),x&&(x(),x=null);return}C+=d,C>=Mt&&(C-=Mt,l++,f=!0),f&&m(l)}))}return{canvas:i,setActive(k){v=k,(v||b>0)&&R()},destroy(){x&&(x(),x=null),i.parentNode&&i.parentNode.removeChild(i)}}}const _t=800,Lt=1500,mt=22;function Et(T,n,P,u){const $=V(n,u),M=$.bgRgb,g=$.lightRgb,A=[$.darkRgb,$.primaryRgb,$.lightRgb],s=W(n),o=2+Math.floor(s()*2),e=Array.from({length:o},(k,d)=>{const p=Array.from({length:40},()=>s()*.12-.06);return{baseRadius:7+d*11+s()*2,wobbles:p,strokeWidth:1.5+s()*2.5,shadeRgb:A[d%A.length],breatheSpeed:.09+s()*.08,breatheAmp:2+s()*2.5,phase:s()*Math.PI*2,wobbleSpeed:.045+s()*.04}}),i=document.createElement("canvas");i.style.width=P+"px",i.style.height=P+"px",i.style.borderRadius="50%",i.style.flexShrink="0",i.style.display="block",T.appendChild(i);const y=G(P);i.width=y,i.height=y;const r=i.getContext("2d"),t=y/100;function m(k,d){r.fillStyle=`rgb(${M[0]},${M[1]},${M[2]})`,r.fillRect(0,0,y,y);const p=(2+Math.sin(k*.07)*d)*t;r.beginPath(),r.arc(50*t,50*t,p,0,Math.PI*2),r.fillStyle=`rgba(${g[0]},${g[1]},${g[2]},0.8)`,r.fill();for(const f of e){const a=Math.sin(k*f.breatheSpeed+f.phase)*f.breatheAmp*d,c=.45+Math.sin(k*f.breatheSpeed*.5+f.phase+1)*.25*d;r.beginPath();for(let h=0;h<f.wobbles.length;h++){const w=h/f.wobbles.length*Math.PI*2,D=Math.sin(k*f.wobbleSpeed+h*.6+f.phase)*2.5*d,I=Math.min(f.baseRadius+a+f.wobbles[h]*f.baseRadius+D,38),q=(50+Math.cos(w)*I)*t,L=(50+Math.sin(w)*I)*t;h===0?r.moveTo(q,L):r.lineTo(q,L)}r.closePath(),r.strokeStyle=`rgba(${f.shadeRgb[0]},${f.shadeRgb[1]},${f.shadeRgb[2]},${c})`,r.lineWidth=f.strokeWidth*t,r.lineJoin="round",r.stroke()}r.globalCompositeOperation="destination-in",r.beginPath(),r.arc(y/2,y/2,y/2,0,Math.PI*2),r.fill(),r.globalCompositeOperation="source-over"}let v=!1,b=0,l=0,S=null,C=0,x=null;m(0,0);function R(){x||(S=null,C=0,x=K(k=>{const d=S!==null?k-S:16;S=k;const p=v?1:0;let f=!1;if(Math.abs(b-p)>.003){const a=p>b?d/_t:d/Lt;b=Math.max(0,Math.min(1,b+(p>b?1:-1)*a)),f=!0}else b!==p&&(b=p,f=!0);if(b===0&&!v){f&&m(l,0),x&&(x(),x=null);return}C+=d,C>=mt&&(C-=mt,l++,f=!0),f&&m(l,b)}))}return{canvas:i,setActive(k){v=k,(v||b>0)&&R()},destroy(){x&&(x(),x=null),i.parentNode&&i.parentNode.removeChild(i)}}}const Ft=800,Xt=1500,xt=45;function Yt(T,n,P,u){const $=V(n,u),M=$.bgRgb,{hue:g,sat:A}=$,s=$.lightRgb,o=$.primaryRgb,e=$.darkRgb,i=9,y=9,r=5,t=W(n),m=Array.from({length:y},()=>Array(i).fill(null));for(let a=0;a<y;a++)for(let c=0;c<r;c++)if(t()>.38){const h=Math.abs(c-4)+Math.abs(a-4);m[a][c]=h<3?s:h<5?o:e,m[a][i-1-c]=m[a][c]}const v=document.createElement("canvas");v.style.width=P+"px",v.style.height=P+"px",v.style.borderRadius="50%",v.style.flexShrink="0",v.style.display="block",T.appendChild(v);const b=G(P);v.width=b,v.height=b;const l=v.getContext("2d");function S(a,c){const h=b/9,w=(b-i*h)/2,D=(b-y*h)/2;l.fillStyle=`rgb(${M[0]},${M[1]},${M[2]})`,l.fillRect(0,0,b,b);for(let I=0;I<y;I++){const q=(Math.sin(a*.18+I*1.8)*h*.7+Math.sin(a*.07+I)*h*.3)*c;for(let L=0;L<i;L++){const O=m[I][L];if(!O)continue;const F=1-(1-(.75+Math.sin(a*.14+L*.9+I*.6)*.25))*c,Y=h*F,N=w+L*h+(h-Y)/2+q,E=D+I*h+(h-Y)/2;l.fillStyle=`rgb(${O[0]},${O[1]},${O[2]})`;const _=1,j=Y-.5,B=Y-.5;l.beginPath(),l.moveTo(N+_,E),l.lineTo(N+j-_,E),l.quadraticCurveTo(N+j,E,N+j,E+_),l.lineTo(N+j,E+B-_),l.quadraticCurveTo(N+j,E+B,N+j-_,E+B),l.lineTo(N+_,E+B),l.quadraticCurveTo(N,E+B,N,E+B-_),l.lineTo(N,E+_),l.quadraticCurveTo(N,E,N+_,E),l.fill()}}l.globalCompositeOperation="destination-in",l.beginPath(),l.arc(b/2,b/2,b/2,0,Math.PI*2),l.fill(),l.globalCompositeOperation="source-over"}let C=!1,x=0,R=0,k=null,d=0,p=null;S(0,0);function f(){p||(k=null,d=0,p=K(a=>{const c=k!==null?a-k:16;k=a;const h=C?1:0;let w=!1;if(Math.abs(x-h)>.003){const D=h>x?c/Ft:c/Xt;x=Math.max(0,Math.min(1,x+(h>x?1:-1)*D)),w=!0}else x!==h&&(x=h,w=!0);if(x===0&&!C){w&&S(R,0),p&&(p(),p=null);return}d+=c,d>=xt&&(d-=xt,R++,w=!0),w&&S(R,x)}))}return{canvas:v,setActive(a){C=a,(C||x>0)&&f()},destroy(){p&&(p(),p=null),v.parentNode&&v.parentNode.removeChild(v)}}}const Wt=800,Vt=1500,$t=35;function Ut(T,n,P,u){const $=V(n,u),M=$.bgRgb,g=$.lightRgb,A=$.primaryRgb,s=$.darkRgb,o=7,e=4,i=W(n),y=Array.from({length:o},()=>Array(o).fill(null));for(let d=0;d<o;d++)for(let p=0;p<e;p++){const f=Math.abs(p-3)+Math.abs(d-3);f>4||i()>.35&&(y[d][p]=f<2?g:f<4?A:s,y[d][o-1-p]=y[d][p])}const r=document.createElement("canvas");r.style.width=P+"px",r.style.height=P+"px",r.style.borderRadius="50%",r.style.flexShrink="0",r.style.display="block",T.appendChild(r);const t=G(P);r.width=t,r.height=t;const m=r.getContext("2d");function v(d,p){const f=t/o;m.fillStyle=`rgb(${M[0]},${M[1]},${M[2]})`,m.fillRect(0,0,t,t),m.save(),m.translate(t/2,t/2),m.rotate(Math.PI/4),m.translate(-t/2,-t/2);for(let a=0;a<o;a++){const c=Math.sin(d*.16+a*1.5)*f*.55*p;for(let h=0;h<o;h++){const w=y[a][h];if(!w)continue;const D=1-(1-(.7+Math.sin(d*.12+h+a*.8)*.3))*p,I=f*D*.42,q=h*f+f/2+c,L=a*f+f/2;m.beginPath(),m.arc(q,L,I,0,Math.PI*2),m.fillStyle=`rgb(${w[0]},${w[1]},${w[2]})`,m.fill()}}m.restore(),m.globalCompositeOperation="destination-in",m.beginPath(),m.arc(t/2,t/2,t/2,0,Math.PI*2),m.fill(),m.globalCompositeOperation="source-over"}let b=!1,l=0,S=0,C=null,x=0,R=null;v(0,0);function k(){R||(C=null,x=0,R=K(d=>{const p=C!==null?d-C:16;C=d;const f=b?1:0;let a=!1;if(Math.abs(l-f)>.003){const c=f>l?p/Wt:p/Vt;l=Math.max(0,Math.min(1,l+(f>l?1:-1)*c)),a=!0}else l!==f&&(l=f,a=!0);if(l===0&&!b){a&&v(S,0),R&&(R(),R=null);return}x+=p,x>=$t&&(x-=$t,S++,a=!0),a&&v(S,l)}))}return{canvas:r,setActive(d){b=d,(b||l>0)&&k()},destroy(){R&&(R(),R=null),r.parentNode&&r.parentNode.removeChild(r)}}}function jt(T,n,P,u){const{hue:$,sat:M}=V(n,u),g=W(n),A=3+Math.floor(g()*2),s=Array.from({length:A},()=>({baseX:.15+g()*.7,baseY:.15+g()*.7,freq:10+g()*18,orbitR:.08+g()*.18,orbitSpeed:.025+g()*.03,phase:g()*Math.PI*2}));function o(e,i,y){const r=e.getContext("2d"),t=e.width,m=3,v=r.createImageData(t,t),b=v.data;for(let l=0;l<t;l+=m)for(let S=0;S<t;S+=m){const C=S/t,x=l/t,R=C-.5,k=x-.5,d=Math.sqrt(R*R+k*k);if(d>.5)continue;let p=0;for(const c of s){const h=c.baseX+Math.cos(i*c.orbitSpeed+c.phase)*c.orbitR*y,w=c.baseY+Math.sin(i*c.orbitSpeed*1.3+c.phase)*c.orbitR*y;p+=Math.sin(Math.sqrt((C-h)**2+(x-w)**2)*c.freq*Math.PI*2)}p/=s.length;const f=X($/360,M/100,U(.55+(p+1)/2*.35,u)),a=Math.min((.5-d)*10,1);for(let c=0;c<m&&l+c<t;c++)for(let h=0;h<m&&S+h<t;h++){const w=((l+c)*t+(S+h))*4;b[w]=f[0],b[w+1]=f[1],b[w+2]=f[2],b[w+3]=a*255|0}}r.putImageData(v,0,0)}return H(T,n,P,o,{fps:30})}function rt(T){const n=W(T);return{scaleX:2+n()*4,scaleY:2+n()*4,offsetX:n()*100,offsetY:n()*100,twist:.6+n()*1.4,attractors:Array.from({length:2+Math.floor(n()*2)},()=>({orbitCx:.3+n()*.4,orbitCy:.3+n()*.4,orbitR:.1+n()*.2,orbitSpeed:.004+n()*.006,strength:.3+n()*.5,phase:n()*Math.PI*2}))}}function lt(T,n,P,u,$){let M=Math.sin(T*u.scaleX+u.offsetX)*Math.cos(n*u.scaleY+u.offsetY)*Math.PI*2*u.twist;for(const g of u.attractors){const A=g.orbitCx+Math.cos(P*g.orbitSpeed+g.phase)*g.orbitR*$,s=g.orbitCy+Math.sin(P*g.orbitSpeed*1.3+g.phase)*g.orbitR*$,o=T-A,e=n-s,i=Math.sqrt(o*o+e*e)+.01;M+=Math.atan2(e,o)*g.strength/(i*8+.5)*$}return M}const Bt=800,Kt=1500,Gt=30;function Ht(T,n,P,u){const $=V(n,u),M=rt(n),{bgRgb:g,primaryRgb:A,darkRgb:s}=$,o=document.createElement("canvas");o.style.width=P+"px",o.style.height=P+"px",o.style.borderRadius="50%",o.style.flexShrink="0",o.style.display="block",T.appendChild(o);const e=G(P);o.width=e,o.height=e;const i=o.getContext("2d"),y=W(n+999),r=Array.from({length:90},()=>({x:y()*e,y:y()*e,life:Math.floor(y()*50),maxLife:25+Math.floor(y()*40),shade:y()>.5?A:s}));let t=0,m=0;const v=`rgb(${g[0]},${g[1]},${g[2]})`;function b(){i.fillStyle=v,i.fillRect(0,0,e,e);const f=W(n+500);for(let a=0;a<60;a++){let c=f()*e,h=f()*e;const w=f()>.5?A:s;i.beginPath(),i.moveTo(c,h);for(let D=0;D<30;D++){const I=lt(c/e,h/e,0,M,0);c+=Math.cos(I)*2,h+=Math.sin(I)*2,i.lineTo(c,h)}i.strokeStyle=`rgba(${w[0]},${w[1]},${w[2]},.3)`,i.lineWidth=1.5,i.stroke()}i.globalCompositeOperation="destination-in",i.beginPath(),i.arc(e/2,e/2,e/2,0,Math.PI*2),i.fill(),i.globalCompositeOperation="source-over"}b();const l=document.createElement("canvas");l.width=e,l.height=e;const S=l.getContext("2d");S.fillStyle=v,S.fillRect(0,0,e,e);function C(){const f=S.getImageData(0,0,e,e),a=f.data,c=g[0],h=g[1],w=g[2];for(let D=0;D<a.length;D+=4)Math.abs(a[D]-c)<=3&&Math.abs(a[D+1]-h)<=3&&Math.abs(a[D+2]-w)<=3&&(a[D]=c,a[D+1]=h,a[D+2]=w,a[D+3]=255);S.putImageData(f,0,0)}let x=!1,R=0,k=null,d=null;function p(){d||(k=null,d=K(f=>{const a=k!==null?f-k:16;k=f;const c=a>200?1e3/60:Math.min(a,50),h=x?1:0;if(Math.abs(R-h)>.003){const q=h>R?c/Bt:c/Kt;R=Math.max(0,Math.min(1,R+(h>R?1:-1)*q))}else R=h;if(R===0&&!x){b(),d&&(d(),d=null);return}const w=c/(1e3/60);t+=w,m++;const D=R,I=(.08+.08*(1-D))*w;S.fillStyle=`rgba(${g[0]},${g[1]},${g[2]},${I})`,S.fillRect(0,0,e,e),m%Gt===0&&C();for(const q of r){const L=lt(q.x/e,q.y/e,t,M,D);q.x+=Math.cos(L)*3*Math.max(D,.1)*w,q.y+=Math.sin(L)*3*Math.max(D,.1)*w,q.life++;const O=q.x-e/2,F=q.y-e/2,Y=Math.sqrt(O*O+F*F);if(q.life>q.maxLife||Y>e/2-2){const N=W(n+q.life+(q.x|0)+t);q.x=N()*e,q.y=N()*e,q.life=0}if(Y<e/2-2){const N=Math.min(q.life/5,1)*Math.min((q.maxLife-q.life)/5,1)*Math.max(D,.05);S.beginPath(),S.arc(q.x,q.y,1.5,0,Math.PI*2),S.fillStyle=`rgba(${q.shade[0]},${q.shade[1]},${q.shade[2]},${N*.7})`,S.fill()}}i.clearRect(0,0,e,e),i.drawImage(l,0,0),i.globalCompositeOperation="destination-in",i.beginPath(),i.arc(e/2,e/2,e/2,0,Math.PI*2),i.fill(),i.globalCompositeOperation="source-over"}))}return{canvas:o,setActive(f){x=f,(x||R>0)&&p()},destroy(){d&&(d(),d=null),o.parentNode&&o.parentNode.removeChild(o)}}}const Qt=800,Zt=1500,Jt=30;function zt(T,n,P,u){const $=V(n,u),M=[rt(n),rt(n+4219),rt(n+8831)],{bgRgb:g}=$,A=[$.darkerRgb,$.darkRgb,$.primaryRgb],s=document.createElement("canvas");s.style.width=P+"px",s.style.height=P+"px",s.style.borderRadius="50%",s.style.flexShrink="0",s.style.display="block",T.appendChild(s);const o=G(P);s.width=o,s.height=o;const e=s.getContext("2d"),i=[1,1.5,2.2],y=[.4,.6,.85],r=[50,40,30],t=M.map((a,c)=>{const h=W(n+1e3+c*3331);return Array.from({length:r[c]},()=>({x:h()*o,y:h()*o,life:Math.floor(h()*40),maxLife:20+Math.floor(h()*35)}))});let m=0,v=0;const b=`rgb(${g[0]},${g[1]},${g[2]})`;function l(){e.fillStyle=b,e.fillRect(0,0,o,o),M.forEach((a,c)=>{const h=W(n+500+c*777),w=A[c];for(let D=0;D<30;D++){let I=h()*o,q=h()*o;e.beginPath(),e.moveTo(I,q);for(let L=0;L<25;L++){const O=lt(I/o,q/o,0,a,0);I+=Math.cos(O)*2,q+=Math.sin(O)*2,e.lineTo(I,q)}e.strokeStyle=`rgba(${w[0]},${w[1]},${w[2]},${y[c]*.35})`,e.lineWidth=i[c],e.stroke()}}),e.globalCompositeOperation="destination-in",e.beginPath(),e.arc(o/2,o/2,o/2,0,Math.PI*2),e.fill(),e.globalCompositeOperation="source-over"}l();const S=document.createElement("canvas");S.width=o,S.height=o;const C=S.getContext("2d");C.fillStyle=b,C.fillRect(0,0,o,o);function x(){const a=C.getImageData(0,0,o,o),c=a.data,h=g[0],w=g[1],D=g[2];for(let I=0;I<c.length;I+=4)Math.abs(c[I]-h)<=3&&Math.abs(c[I+1]-w)<=3&&Math.abs(c[I+2]-D)<=3&&(c[I]=h,c[I+1]=w,c[I+2]=D,c[I+3]=255);C.putImageData(a,0,0)}let R=!1,k=0,d=null,p=null;function f(){p||(d=null,p=K(a=>{const c=d!==null?a-d:16;d=a;const h=c>200?1e3/60:Math.min(c,50),w=R?1:0;if(Math.abs(k-w)>.003){const L=w>k?h/Qt:h/Zt;k=Math.max(0,Math.min(1,k+(w>k?1:-1)*L))}else k=w;if(k===0&&!R){l(),p&&(p(),p=null);return}const D=h/(1e3/60);m+=D,v++;const I=k,q=(.08+.08*(1-I))*D;C.fillStyle=`rgba(${g[0]},${g[1]},${g[2]},${q})`,C.fillRect(0,0,o,o),v%Jt===0&&x(),t.forEach((L,O)=>{const F=M[O],Y=A[O],N=i[O],E=y[O];for(const _ of L){const j=lt(_.x/o,_.y/o,m,F,I);_.x+=Math.cos(j)*(1.8+O*.6)*Math.max(I,.1)*D,_.y+=Math.sin(j)*(1.8+O*.6)*Math.max(I,.1)*D,_.life++;const B=_.x-o/2,at=_.y-o/2,et=Math.sqrt(B*B+at*at);if(_.life>_.maxLife||et>o/2-2){const J=W(n+_.life+(_.x|0)+m+O*100);_.x=J()*o,_.y=J()*o,_.life=0}if(et<o/2-2){const J=Math.min(_.life/4,1)*Math.min((_.maxLife-_.life)/4,1)*E*Math.max(I,.05);C.beginPath(),C.arc(_.x,_.y,N,0,Math.PI*2),C.fillStyle=`rgba(${Y[0]},${Y[1]},${Y[2]},${J})`,C.fill()}}}),e.clearRect(0,0,o,o),e.drawImage(S,0,0),e.globalCompositeOperation="destination-in",e.beginPath(),e.arc(o/2,o/2,o/2,0,Math.PI*2),e.fill(),e.globalCompositeOperation="source-over"}))}return{canvas:s,setActive(a){R=a,(R||k>0)&&f()},destroy(){p&&(p(),p=null),s.parentNode&&s.parentNode.removeChild(s)}}}function ot(T,n,P,u,$,M=3,g){let A=V(n,g),s=o(n,u);function o(y,r){const t=W(y);return Array.from({length:r},()=>({baseX:t(),baseY:t(),driftRx:.03+t()*.06,driftRy:.03+t()*.05,speed:.02+t()*.025,phase:t()*Math.PI*2,shade:Math.floor(t()*5)}))}function e(y,r,t){const m=y.getContext("2d"),v=y.width,b=v<=48?Math.max(M,4):M,l=m.createImageData(v,v),S=l.data,C=s.map(R=>({x:R.baseX+Math.sin(r*R.speed+R.phase)*R.driftRx*t,y:R.baseY+Math.cos(r*R.speed*.8+R.phase*1.3)*R.driftRy*t,shade:R.shade})),x=C.length;for(let R=0;R<v;R+=b){const k=R/v,d=k-.5,p=d*d;for(let f=0;f<v;f+=b){const a=f/v,c=a-.5,h=c*c+p;if(h>.25)continue;let w=1/0,D=0,I=1/0;for(let N=0;N<x;N++){const E=a-C[N].x,_=k-C[N].y,j=E*E+_*_;j<w?(I=w,w=j,D=N):j<I&&(I=j)}const q=Math.sqrt(w),L=Math.sqrt(I),O=Math.min((.5-Math.sqrt(h))*10,1),F=$(q,L,D,C,A),Y=O*255|0;for(let N=0;N<b&&R+N<v;N++)for(let E=0;E<b&&f+E<v;E++){const _=((R+N)*v+(f+E))*4;S[_]=F[0],S[_+1]=F[1],S[_+2]=F[2],S[_+3]=Y}}}m.putImageData(l,0,0)}const i=H(T,n,P,e,{fps:30});return{canvas:i.canvas,setActive(y){i.setActive(y)},setSeed(y){A=V(y),s=o(y,u),i.reinit()},destroy(){i.destroy()}}}function te(T,n,P,u){const{hue:$,sat:M}=V(n,u),g=[X($/360,M/100,U(.58,u)),X($/360,M/100,U(.65,u)),X($/360,M/100,U(.72,u)),X($/360,M/100,U(.8,u)),X($/360,M/100,U(.87,u))];function A(s,o,e,i){const y=Math.min((o-s)*12,1),r=g[i[e].shade],t=.6+y*.4;return[r[0]*t|0,r[1]*t|0,r[2]*t|0]}return ot(T,n,P,10,A,3,u)}function ee(T,n,P,u){const{hue:$,sat:M}=V(n,u);function g(A,s){const o=Math.max(0,1-(s-A)*35);return X($/360,M/100,U(.82-o*.3,u))}return ot(T,n,P,12,g,3,u)}const ne=[.62,.7,.8,.66,.75];function oe(T,n,P,u){const{hue:$,sat:M}=V(n,u);function g(A,s,o,e){const i=Math.min(A*8,1);return X($/360,M/100,U(ne[e[o].shade]*(1-i*.3),u))}return ot(T,n,P,9,g,3,u)}function ae(T,n,P,u){const{hue:$,sat:M}=V(n,u),g=W(n),A=Array.from({length:5},()=>($+Math.floor(g()*40)-20+360)%360);function s(o,e,i,y){return e-o<.02?X($/360,M*.3/100,U(.4,u)):X(A[y[i].shade]/360,M/100,U(.62+(1-Math.min(o*6,1))*.25,u))}return ot(T,n,P,10,s,2,u)}function se(T,n,P,u){const{hue:$,sat:M}=V(n,u);function g(A,s,o,e){const i=Math.sin(A*40*Math.PI*2),y=Math.max(0,i)**3;return X($/360,M/100,U(.55+y*.3+e[o].shade*.03,u))}return ot(T,n,P,8,g,3,u)}function re(T,n,P,u){const $=V(n,u),{hue:M,sat:g,bgRgb:A}=$,s=W(n),o={arms:2+Math.floor(s()*4),tightness:.08+s()*.12,dotSize:1.2+s()*1.5,rotSpeed:.016+s()*.02,armCurve:.5+s()*1.5,dir:s()>.5?1:-1};function e(i,y,r){const t=i.getContext("2d"),m=i.width;t.fillStyle=`rgb(${A[0]},${A[1]},${A[2]})`,t.fillRect(0,0,m,m);const v=m/2,b=m/2,l=m/2-2,S=y*o.rotSpeed*o.dir*r;for(let x=0;x<o.arms;x++){const R=x/o.arms*Math.PI*2;for(let k=0;k<120;k++){const d=k/120,p=d*l,f=R+d*o.armCurve*Math.PI*2*o.tightness*10+S,a=v+Math.cos(f)*p,c=b+Math.sin(f)*p;if(Math.sqrt((a-v)**2+(c-b)**2)>l)continue;const h=X(M/360,g/100,U(.55+d*.3,u));t.beginPath(),t.arc(a,c,o.dotSize*(1-d*.5),0,Math.PI*2),t.fillStyle=`rgba(${h[0]},${h[1]},${h[2]},${(1-d)*.9})`,t.fill()}}const C=X(M/360,g/100,U(.92,u));t.beginPath(),t.arc(v,b,3+Math.sin(y*.05)*r,0,Math.PI*2),t.fillStyle=`rgba(${C[0]},${C[1]},${C[2]},.9)`,t.fill(),t.globalCompositeOperation="destination-in",t.beginPath(),t.arc(v,b,l+2,0,Math.PI*2),t.fill(),t.globalCompositeOperation="source-over"}return H(T,n,P,e,{fps:45})}function le(T,n,P,u){const{hue:$,sat:M}=V(n,u),g=W(n),A={scaleA:3+g()*5,scaleB:4+g()*6,scaleC:2+g()*4,scaleD:3+g()*5,speed:.04+g()*.05,offsetA:g()*10,offsetB:g()*10};function s(o,e,i){const y=o.getContext("2d"),r=o.width,t=2,m=e*i,v=y.createImageData(r,r),b=v.data;for(let l=0;l<r;l+=t)for(let S=0;S<r;S+=t){const C=S/r,x=l/r,R=C-.5,k=x-.5,d=Math.sqrt(R*R+k*k);if(d>.5)continue;const p=(Math.sin(C*A.scaleA+A.offsetA+m*A.speed)+Math.sin(x*A.scaleB+A.offsetB+m*A.speed*.7)+Math.sin(C*A.scaleC+x*A.scaleD+m*A.speed*1.3)+Math.sin(Math.sqrt((R*8)**2+(k*8)**2)+m*A.speed*.5))/4,f=X($/360,M/100,U(.55+(p+1)/2*.35,u)),a=Math.min((.5-d)*10,1);for(let c=0;c<t&&l+c<r;c++)for(let h=0;h<t&&S+h<r;h++){const w=((l+c)*r+(S+h))*4;b[w]=f[0],b[w+1]=f[1],b[w+2]=f[2],b[w+3]=a*255|0}}y.putImageData(v,0,0)}return H(T,n,P,s,{fps:30})}const Q=11,ie=800,ce=1500,Rt=30;function he(T,n,P,u){const $=V(n,u),M=$.bgRgb,g=$.primaryRgb,A=$.darkRgb,s=$.darkerRgb,o=W(n),e=Array.from({length:Q},()=>Array(Q).fill(!0)),i=Array.from({length:Q},()=>Array(Q).fill(!1)),y=[[0,-2],[0,2],[-2,0],[2,0]],r=[[1,1]];for(e[1][1]=!1,i[1][1]=!0;r.length>0;){const[p,f]=r[r.length-1],a=y.map(h=>({d:h,r:o()})).sort((h,w)=>h.r-w.r).map(h=>h.d);let c=!1;for(const[h,w]of a){const D=p+h,I=f+w;if(D>0&&D<Q-1&&I>0&&I<Q-1&&!i[I][D]){e[f+w/2][p+h/2]=!1,e[I][D]=!1,i[I][D]=!0,r.push([D,I]),c=!0;break}}c||r.pop()}const t=document.createElement("canvas");t.style.width=P+"px",t.style.height=P+"px",t.style.borderRadius="50%",t.style.flexShrink="0",t.style.display="block",T.appendChild(t);const m=G(P);t.width=m,t.height=m;const v=t.getContext("2d");function b(p,f){const a=m/Q;v.fillStyle=`rgb(${M[0]},${M[1]},${M[2]})`,v.fillRect(0,0,m,m);for(let c=0;c<Q;c++)for(let h=0;h<Q;h++){if(!e[c][h])continue;const w=Math.sin(p*.14-(h+c)*.4)*f,D=Math.max(.3,.5+w*.5),I=D>.6?g:D>.4?A:s;v.fillStyle=`rgba(${I[0]},${I[1]},${I[2]},${D})`,v.fillRect(h*a,c*a,a,a)}v.globalCompositeOperation="destination-in",v.beginPath(),v.arc(m/2,m/2,m/2,0,Math.PI*2),v.fill(),v.globalCompositeOperation="source-over"}let l=!1,S=0,C=0,x=null,R=0,k=null;b(0,0);function d(){k||(x=null,R=0,k=K(p=>{const f=x!==null?p-x:16;x=p;const a=l?1:0;let c=!1;if(Math.abs(S-a)>.003){const h=a>S?f/ie:f/ce;S=Math.max(0,Math.min(1,S+(a>S?1:-1)*h)),c=!0}else S!==a&&(S=a,c=!0);if(S===0&&!l){c&&b(C,0),k&&(k(),k=null);return}R+=f,R>=Rt&&(R-=Rt,C++,c=!0),c&&b(C,S)}))}return{canvas:t,setActive(p){l=p,(l||S>0)&&d()},destroy(){k&&(k(),k=null),t.parentNode&&t.parentNode.removeChild(t)}}}const fe=800,ge=1500,Pt=25;function de(T,n,P,u){const $=V(n,u),M=$.bgRgb,g=$.lightRgb,A=$.darkerRgb,s=[$.lightRgb,$.primaryRgb,$.darkRgb],o=W(n),e=3+Math.floor(o()*3),i=Array.from({length:e},(d,p)=>({rx:12+p*8+o()*4,ry:6+o()*(8+p*3),tilt:o()*180,dots:1+Math.floor(o()*3),speed:(.04+o()*.05)*(o()>.5?1:-1),dotR:1.5+o()*1.5,shadeRgb:s[p%3],phase:o()*Math.PI*2})),y=document.createElement("canvas");y.style.width=P+"px",y.style.height=P+"px",y.style.borderRadius="50%",y.style.flexShrink="0",y.style.display="block",T.appendChild(y);const r=G(P);y.width=r,y.height=r;const t=y.getContext("2d"),m=r/100;function v(d,p){t.fillStyle=`rgb(${M[0]},${M[1]},${M[2]})`,t.fillRect(0,0,r,r);const f=(3+Math.sin(d*.06)*.8*p)*m;t.beginPath(),t.arc(50*m,50*m,f,0,Math.PI*2),t.fillStyle=`rgba(${g[0]},${g[1]},${g[2]},0.85)`,t.fill();for(let a=0;a<i.length;a++){const c=i[a],h=(c.tilt+d*.3*(a%2===0?1:-1)*p)*Math.PI/180;t.save(),t.translate(50*m,50*m),t.rotate(h),t.beginPath(),t.ellipse(0,0,c.rx*m,c.ry*m,0,0,Math.PI*2),t.strokeStyle=`rgba(${A[0]},${A[1]},${A[2]},0.3)`,t.lineWidth=.6*m,t.stroke();for(let w=0;w<c.dots;w++){const D=c.phase+w/c.dots*Math.PI*2+d*c.speed*p,I=Math.cos(D)*c.rx*m,q=Math.sin(D)*c.ry*m;t.beginPath(),t.arc(I,q,c.dotR*m,0,Math.PI*2),t.fillStyle=`rgba(${c.shadeRgb[0]},${c.shadeRgb[1]},${c.shadeRgb[2]},0.9)`,t.fill()}t.restore()}t.globalCompositeOperation="destination-in",t.beginPath(),t.arc(r/2,r/2,r/2,0,Math.PI*2),t.fill(),t.globalCompositeOperation="source-over"}let b=!1,l=0,S=0,C=null,x=0,R=null;v(0,0);function k(){R||(C=null,x=0,R=K(d=>{const p=C!==null?d-C:16;C=d;const f=b?1:0;let a=!1;if(Math.abs(l-f)>.003){const c=f>l?p/fe:p/ge;l=Math.max(0,Math.min(1,l+(f>l?1:-1)*c)),a=!0}else l!==f&&(l=f,a=!0);if(l===0&&!b){a&&v(S,0),R&&(R(),R=null);return}x+=p,x>=Pt&&(x-=Pt,S++,a=!0),a&&v(S,l)}))}return{canvas:y,setActive(d){b=d,(b||l>0)&&k()},destroy(){R&&(R(),R=null),y.parentNode&&y.parentNode.removeChild(y)}}}function ue(T,n,P,u){const $=V(n,u),{hue:M,sat:g,bgRgb:A}=$,s=W(n),o=[[1,2],[2,3],[3,4],[1,3],[3,5],[2,5],[1,4],[4,5]],e=o[Math.floor(s()*o.length)],i=s()>.5,y={freqX:i?e[1]:e[0],freqY:i?e[0]:e[1],phaseX:s()*Math.PI*2,phaseY:s()*Math.PI*2,decay:.006+s()*.006,drift:.007+s()*.008};function r(t,m,v){const b=t.getContext("2d"),l=t.width;b.fillStyle=`rgb(${A[0]},${A[1]},${A[2]})`,b.fillRect(0,0,l,l);const S=l/2,C=l/2,x=l/2-4,R=m*v*y.drift,k=X(M/360,g/100,U(.65,u)),d=X(M/360,g/100,U(.52,u)),p=400;b.beginPath();for(let f=0;f<=p;f++){const a=f/p,c=a*Math.PI*2*3,h=Math.exp(-a*y.decay*200),w=S+Math.sin(c*y.freqX+y.phaseX+R)*x*.8*h,D=C+Math.sin(c*y.freqY+y.phaseY+R*1.3)*x*.8*h;f===0?b.moveTo(w,D):b.lineTo(w,D)}b.strokeStyle=`rgba(${k[0]},${k[1]},${k[2]},0.7)`,b.lineWidth=1.5,b.stroke(),b.beginPath();for(let f=0;f<=p;f++){const a=f/p,c=a*Math.PI*2*3,h=Math.exp(-a*y.decay*200),w=S+Math.sin(c*y.freqX+y.phaseX+R+.4)*x*.75*h,D=C+Math.sin(c*y.freqY+y.phaseY+R*1.3+.4)*x*.75*h;f===0?b.moveTo(w,D):b.lineTo(w,D)}b.strokeStyle=`rgba(${d[0]},${d[1]},${d[2]},0.35)`,b.lineWidth=1,b.stroke(),b.globalCompositeOperation="destination-in",b.beginPath(),b.arc(S,C,x+4,0,Math.PI*2),b.fill(),b.globalCompositeOperation="source-over"}return H(T,n,P,r,{fps:45})}const be=800,pe=1500,ye=.01,Me=.12*.12,me=.04*.04;function xe(T,n,P,u){const $=V(n,u),{bgRgb:M,primaryRgb:g,lightRgb:A,darkRgb:s}=$,o=document.createElement("canvas");o.style.width=P+"px",o.style.height=P+"px",o.style.borderRadius="50%",o.style.flexShrink="0",o.style.display="block",T.appendChild(o);const e=G(P);o.width=e,o.height=e;const i=o.getContext("2d"),y=W(n),r=35+Math.floor(y()*20),t=Array.from({length:r},()=>{const d=y()*Math.PI*2;return{x:.2+y()*.6,y:.2+y()*.6,vx:Math.cos(d)*.003,vy:Math.sin(d)*.003,shade:y()<.33?s:y()<.66?g:A,size:1+y()*1.5}}),m=`rgb(${M[0]},${M[1]},${M[2]})`;function v(){i.fillStyle=m,i.fillRect(0,0,e,e);for(const d of t){const p=d.x-.5,f=d.y-.5;p*p+f*f>.2304||(i.beginPath(),i.arc(d.x*e,d.y*e,d.size,0,Math.PI*2),i.fillStyle=`rgba(${d.shade[0]},${d.shade[1]},${d.shade[2]},.7)`,i.fill())}i.globalCompositeOperation="destination-in",i.beginPath(),i.arc(e/2,e/2,e/2,0,Math.PI*2),i.fill(),i.globalCompositeOperation="source-over"}v();const b=document.createElement("canvas");b.width=e,b.height=e;const l=b.getContext("2d");l.fillStyle=m,l.fillRect(0,0,e,e);let S=!1,C=0,x=null,R=null;function k(){R||(x=null,R=K(d=>{const p=x!==null?d-x:16;x=d;const f=p>200?1e3/60:Math.min(p,50),a=S?1:0;if(Math.abs(C-a)>.003){const D=a>C?f/be:f/pe;C=Math.max(0,Math.min(1,C+(a>C?1:-1)*D))}else C=a;if(C===0&&!S){v(),R&&(R(),R=null);return}const c=C,h=f/(1e3/60),w=(.08+.15*(1-c))*h;l.fillStyle=`rgba(${M[0]},${M[1]},${M[2]},${w})`,l.fillRect(0,0,e,e);for(let D=0;D<t.length;D++){const I=t[D];let q=0,L=0,O=0,F=0,Y=0,N=0,E=0;for(let Z=0;Z<t.length;Z++){if(D===Z)continue;const ft=t[Z].x-I.x,gt=t[Z].y-I.y,dt=ft*ft+gt*gt;if(dt<me){const It=Math.sqrt(dt);q-=ft/It,L-=gt/It}dt<Me&&(O+=t[Z].vx,F+=t[Z].vy,Y+=t[Z].x,N+=t[Z].y,E++)}E>0&&(O/=E,F/=E,Y=Y/E-I.x,N=N/E-I.y);const _=.5-I.x,j=.5-I.y,B=Math.sqrt(_*_+j*j)+.01,at=Math.max(0,B-.3)*.02;I.vx+=(q*.05+O*.03+Y*.01+_/B*at)*c,I.vy+=(L*.05+F*.03+N*.01+j/B*at)*c;const et=Math.sqrt(I.vx*I.vx+I.vy*I.vy),J=ye*Math.max(c,.15);et>J&&(I.vx=I.vx/et*J,I.vy=I.vy/et*J),I.x+=I.vx*h,I.y+=I.vy*h;const ct=I.x-.5,ht=I.y-.5;ct*ct+ht*ht>.2116&&(I.x=.5-ct*.3,I.y=.5-ht*.3),l.beginPath(),l.arc(I.x*e,I.y*e,I.size,0,Math.PI*2),l.fillStyle=`rgba(${I.shade[0]},${I.shade[1]},${I.shade[2]},${.5+c*.4})`,l.fill()}i.clearRect(0,0,e,e),i.drawImage(b,0,0),i.globalCompositeOperation="destination-in",i.beginPath(),i.arc(e/2,e/2,e/2,0,Math.PI*2),i.fill(),i.globalCompositeOperation="source-over"}))}return{canvas:o,setActive(d){S=d,(S||C>0)&&k()},destroy(){R&&(R(),R=null),o.parentNode&&o.parentNode.removeChild(o)}}}function $e(T,n,P,u){const{hue:$,sat:M}=V(n,u),g=W(n),A=Array.from({length:3+Math.floor(g()*3)},()=>({cx:.2+g()*.6,cy:.2+g()*.6,freq:20+g()*30,speed:.03+g()*.035,phase:g()*Math.PI*2,strength:.5+g()*.5}));function s(o,e,i){const y=o.getContext("2d"),r=o.width,t=2,m=y.createImageData(r,r),v=m.data;for(let b=0;b<r;b+=t)for(let l=0;l<r;l+=t){const S=l/r,C=b/r,x=S-.5,R=C-.5,k=Math.sqrt(x*x+R*R);if(k>.5)continue;let d=0;for(const a of A){const c=Math.sqrt((S-a.cx)**2+(C-a.cy)**2),h=Math.sin(c*a.freq-e*a.speed*i+a.phase),w=Math.exp(-c*4);d+=h*w*a.strength}d/=A.length;const p=X($/360,M/100,U(.55+(d+1)/2*.35,u)),f=Math.min((.5-k)*10,1);for(let a=0;a<t&&b+a<r;a++)for(let c=0;c<t&&l+c<r;c++){const h=((b+a)*r+(l+c))*4;v[h]=p[0],v[h+1]=p[1],v[h+2]=p[2],v[h+3]=f*255|0}}y.putImageData(m,0,0)}return H(T,n,P,s,{fps:30})}function Re(T,n,P,u){const{hue:$,sat:M}=V(n,u),g=W(n),A=Array.from({length:5+Math.floor(g()*4)},(o,e)=>({offset:g()*Math.PI*2,freq:2+g()*4,amp:.06+g()*.1,width:.03+g()*.04,horiz:e%2===0,speed:.02+g()*.035,lum:.6+g()*.25}));function s(o,e,i){const y=o.getContext("2d"),r=o.width,t=2,m=y.createImageData(r,r),v=m.data;for(let b=0;b<r;b+=t)for(let l=0;l<r;l+=t){const S=l/r,C=b/r,x=S-.5,R=C-.5,k=Math.sqrt(x*x+R*R);if(k>.5)continue;let d=-1,p=0;for(let h=0;h<A.length;h++){const w=A[h],D=w.horiz?S:C,I=w.horiz?C:S,q=.1+h/A.length*.8+Math.sin(D*w.freq*Math.PI*2+w.offset+e*w.speed*i)*w.amp,L=Math.abs(I-q);if(L<w.width){const O=1-L/w.width;O>p&&(p=O,d=h)}}let f=.5;d>=0&&(f=A[d].lum*p);const a=X($/360,M/100,U(f,u)),c=Math.min((.5-k)*10,1);for(let h=0;h<t&&b+h<r;h++)for(let w=0;w<t&&l+w<r;w++){const D=((b+h)*r+(l+w))*4;v[D]=a[0],v[D+1]=a[1],v[D+2]=a[2],v[D+3]=c*255|0}}y.putImageData(m,0,0)}return H(T,n,P,s,{fps:30})}function Pe(T,n,P,u){const $=V(n,u),{hue:M,sat:g,bgRgb:A}=$,s=W(n),o={warpPoints:Array.from({length:4+Math.floor(s()*3)},()=>({x:.15+s()*.7,y:.15+s()*.7,strength:.3+s()*.7,freq:3+s()*5,orbitR:.05+s()*.12,orbitSpeed:.012+s()*.018,phase:s()*Math.PI*2})),gridSpacing:.06+s()*.04};function e(i,y,r){const t=i.getContext("2d"),m=i.width;t.fillStyle=`rgb(${A[0]},${A[1]},${A[2]})`,t.fillRect(0,0,m,m);const v=o.gridSpacing,b=o.warpPoints.map(l=>({x:l.x+Math.cos(y*l.orbitSpeed+l.phase)*l.orbitR*r,y:l.y+Math.sin(y*l.orbitSpeed*1.3+l.phase)*l.orbitR*r,strength:l.strength,freq:l.freq}));for(let l=0;l<=1;l+=v){const S=[];for(let x=0;x<=1.01;x+=.01){let R=0,k=0;for(const d of b){const p=l-d.x,f=x-d.y,a=Math.sqrt(p*p+f*f)+.01;R+=Math.sin(a*d.freq*Math.PI*2)*d.strength*.02/a,k+=Math.cos(a*d.freq*Math.PI*2)*d.strength*.02/a}S.push([(l+R)*m,(x+k)*m])}t.beginPath(),S.forEach((x,R)=>R===0?t.moveTo(x[0],x[1]):t.lineTo(x[0],x[1]));const C=U(.5+l*.3,u);t.strokeStyle=`rgba(${X(M/360,g/100,C).join(",")},0.4)`,t.lineWidth=.8,t.stroke()}for(let l=0;l<=1;l+=v){const S=[];for(let x=0;x<=1.01;x+=.01){let R=0,k=0;for(const d of b){const p=x-d.x,f=l-d.y,a=Math.sqrt(p*p+f*f)+.01;R+=Math.sin(a*d.freq*Math.PI*2)*d.strength*.02/a,k+=Math.cos(a*d.freq*Math.PI*2)*d.strength*.02/a}S.push([(x+R)*m,(l+k)*m])}t.beginPath(),S.forEach((x,R)=>R===0?t.moveTo(x[0],x[1]):t.lineTo(x[0],x[1]));const C=U(.5+l*.3,u);t.strokeStyle=`rgba(${X(M/360,g/100,C).join(",")},0.4)`,t.lineWidth=.8,t.stroke()}t.globalCompositeOperation="destination-in",t.beginPath(),t.arc(m/2,m/2,m/2,0,Math.PI*2),t.fill(),t.globalCompositeOperation="source-over"}return H(T,n,P,e,{fps:30})}const vt={blob:kt,"triple-gol":Nt,"organic-rings":Et,pixel:Yt,"pixel-diamond":Ut,interference:jt,"flow-field":Ht,"layered-flow":zt,voronoi:te,"voronoi-wire":ee,"voronoi-gradient":oe,"voronoi-stained":ae,"voronoi-topo":se,spiral:re,plasma:le,maze:he,orbital:de,lissajous:ue,boids:xe,ripple:$e,weave:Re,warp:Pe},Ct=Object.keys(vt);function ve(T,n){const P=n.style,u=n.size??48;let $=n.active??!1,M=n.mode??"light";const g=vt[P];if(!g)throw new Error(`Unknown avatar style "${P}". Available: ${Ct.join(", ")}`);let A=typeof n.seed=="number"?n.seed:ut(String(n.seed)),s=g(T,A,u,M);$&&s.setActive(!0);function o(){s.destroy(),s=g(T,A,u,M),$&&s.setActive(!0)}return{setActive(e){$=e,s.setActive(e)},setSeed(e){const i=typeof e=="number"?e:ut(String(e));i!==A&&(A=i,o())},setMode(e){e!==M&&(M=e,o())},destroy(){s.destroy()}}}return st.create=ve,st.styles=Ct,Object.defineProperty(st,Symbol.toStringTag,{value:"Module"}),st})({});
